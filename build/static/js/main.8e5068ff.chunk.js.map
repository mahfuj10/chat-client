{"version":3,"sources":["components/Redux/hooks.ts","components/Redux/counterSlice.ts","components/ActiveBadge/ActiveBadge.tsx","components/Convertation/convertionalUser.tsx","components/Convertation/Convertation.tsx","components/Firebase/FirebaseConfig.tsx","components/Firebase/FirebaseInitalize.tsx","components/hooks/useFirebase.tsx","components/Loader/Loader.tsx","components/ImageModal/ImageModal.tsx","components/Message/Message.tsx","components/UserDetails/UserDetails.tsx","components/GroupDetails/GroupDetails.tsx","components/Chat/ExpendMenu.tsx","components/UserTypeing/UserTypeing.tsx","components/Chat/Chat.tsx","components/Groups/GroupsModal.tsx","components/Groups/Group.tsx","components/Groups/Groups.tsx","components/GroupChat/GroupChat.tsx","components/AddContracts/AddContracts.tsx","components/Navigation/Navigation.tsx","Pages/Home/Home.tsx","Pages/Login/Login.tsx","components/PrivateRoute/PrivateRoute.tsx","components/Setting/ContractInfo.tsx","components/Setting/JoinedGroups.tsx","components/Setting/MyContacts.tsx","Pages/UserSetting/UserSetting.tsx","components/ForgetPass/ForgetPass.tsx","App.tsx","components/Redux/store.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","localStorage","getItem","getAllMessages","createAsyncThunk","async","axios","get","concat","roomID","data","getAllUsers","gellAllGroups","deleteChatMessage","put","id","deleteAllRoomMessage","delete","updateUserName","uid","updateUserNumber","updateUserAddress","updateUserProfession","dataSlice","createSlice","name","initialState","value","status","messagedataLoading","loginUser","allUsers","usersDataLoading","convertationUsers","selectedUser","selectedGroupMembers","allGroups","groupsDataLoading","selectedGroup","messages","messageDataLoading","groupChat","createdGroup","joinedGroups","searchText","updateUserInfo","deleteTextLoading","allMessageDeleteLoading","openDetailsSection","reducers","currentLoginUser","state","action","payload","myConvertations","selectUser","addGroupMembers","push","removeFromSelectedPeople","filter","member","reseatGroupMembers","selectGroup","getGroupChat","saveCreatedGroup","getJoinedGroups","saveSearchName","setOpenDetailsSection","closeOpenDetailsSection","extraReducers","builder","addCase","pending","fulfilled","_ref","_ref2","actions","StyledBadge","styled","Badge","theme","backgroundColor","color","boxShadow","palette","background","paper","position","top","left","width","height","borderRadius","animation","border","content","transform","opacity","ActiveBadge","photoURL","_jsx","_Fragment","children","overlap","anchorOrigin","vertical","horizontal","variant","Avatar","sx","xs","md","alt","src","CovertationUser","convertionalUser","socket","selectChatBox","onlineUsers","dispatch","_jsxs","Box","onClick","display","gap","alignItems","mb","p","borderRight","includes","Typography","fontSize","displayName","MdReply","className","email","Covertation","_socket$current","roomId","addConverationRoute","handleDrawerOpen","newUsers","setNewUsers","useState","current","on","currentUser","find","useEffect","_currentUser$contract","_currentUser$contract2","contractAllUsers","contracts","length","i","_currentUser$contract3","contract","contractsUsers","user","matchUsers","_user$displayName","_user$displayName$toL","toLowerCase","overflowY","textAlign","letterSpacing","lg","Button","Array","map","ske","index","Skeleton","_id","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","useFirebase","_user$metadata","setUser","loading","setLoading","error","setError","navigate","useNavigate","processing","setProcessing","metadata","createdAt","googleProvider","GoogleAuthProvider","auth","getAuth","location","useLocation","onAuthStateChanged","createdDate","userData","saveUser","method","fetch","headers","body","JSON","stringify","then","handleGoogleSign","signInWithPopup","result","_location$state3","phone","adress","groups","profession","redirect","from","pathname","res","newUser","catch","message","finally","logOut","signOut","console","signUpWithEmail","password","createUserWithEmailAndPassword","userCredential","updateProfile","_location$state","logInWithEmail","signInWithEmailAndPassword","_location$state2","reseatPassword","sendPasswordResetEmail","swal","errorMessage","updatePhotoAndName","photo","log","updateError","FacebookCircularProgress","props","CircularProgress","grey","mode","size","thickness","disableShrink","animationDuration","circularProgressClasses","circle","strokeLinecap","style","bgcolor","ImageModal","openModal","handleOpenModal","handleCloseModal","image","Modal","keepMounted","open","onClose","Message","messageContent","textLoading","deletedMessage","setOpenModal","React","disptach","selectedMessage","setSelecteMessage","deleted","justifyContent","userId","GoCircleSlash","IconButton","emit","handleDleteMessage","AiOutlineDelete","objectFit","mt","mr","picture","lineHeight","format","time","UserDetails","images","Paper","elevation","m","borderBottom","pb","my","AiOutlineMail","FiSmartphone","Stack","spacing","GroupDetails","groupMembers","setGroupMembers","members","_selectedGroup$groupM","matchMember","groupPerson","coverPhoto","fontWeight","groupName","Accordion","defaultExpanded","AccordionSummary","expandIcon","HiOutlineArrowSmDown","AccordionDetails","drawerWidth","sm","ExpendMenu","group","openSidebar","anchorEl","setAnchorEl","Boolean","openDrawer","setOpenDrawer","handleDrawerClose","iconsStyle","iconButton","MoreHorizIcon","undefined","event","currentTarget","edge","AspectRatioIcon","Drawer","flexShrink","anchor","CloseIcon","ml","onKeyPress","key","handleOpenDetailsDrawer","setItem","handleCloseDetailsDrawer","Menu","handleClose","MenuListProps","MenuItem","deleteMessages","DeleteIcon","UserTypeing","typeingUser","ListItem","Chat","register","watch","setValue","useForm","currentMessage","setCurrentMessage","imgLoading","setImgLoading","photoUrl","setPhotoUrl","messageList","setMessageList","setTypeingUser","setTextLoading","unreadMessageCount","setUnreadMessageCount","audio","Audio","unreadMessages","read","readMessages","err","getMessages","senderMessageData","messageData","parseInt","Date","now","post","list","imgFile","FormData","set","append","url","handleReceiveMessage","upcomeingMessages","_socket$current2","off","_document","_document$getElementB","_socket$current3","_socket$current4","handleFocusOut","handleTyping","handleDeleteMessage","filterMessages","document","getElementById","addEventListener","_document2","_document2$getElement","_socket$current5","_socket$current6","removeEventListener","xl","ScrollToBottom","bottom","userTypeing","onChange","e","target","placeholder","marginBottom","padding","float","htmlFor","accept","type","component","MdCameraAlt","IoMdSend","zIndex","GroupsModal","handleOpen","handleAddCreatedGroup","activeStep","setActiveStep","skipped","setSkipped","Set","setGroupName","btnStyle","borderColor","title","setTimeout","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","handleRemoveMember","handleSelectMember","AvatarGroup","max","handleNext","newSkipped","step","has","values","prevActiveStep","LoadingButton","alert","groupId","Math","floor","random","Group","_Object$keys","handleAddRoomId","mygroups","userID","groupMember","Object","keys","handleSelectGroup","parseFloat","Groups","setOpen","myGroups","setMyGroups","groupID","matchGroup","prev","GroupChat","AddContracts","loadUser","setLoadUser","selectedUID","setSelectedUID","handleAddContract","contactsUsers","box","isAdd","disabled","Navigation","menuList","BiMenuAltRight","window","navigator","onLine","pl","SignalWifiStatusbarConnectedNoInternet4Icon","Home","activeNum","setActiveNum","socketClient","useRef","setGroupId","setRoomId","setOpenSidebar","isLoading","setIsLoading","setOnlineUsers","io","connect","removeAllListeners","handleUpdateUserStatus","connectSocket","converUser","checkStatusAndHandle","onlineUserIds","isNaN","Grid","container","item","px","flexWrap","BiConversation","IoPersonAddOutline","handleSetActiveNav","MdOutlineGroupAdd","FiSettings","transition","Login","registerStatus","setRegister","nameRef","emailRef","passwordRef","backgroundImage","IoChatboxEllipsesOutline","onSubmit","_nameRef$current","_emailRef$current","_passwordRef$current","_emailRef$current2","_passwordRef$current2","preventDefault","ref","required","googleSign","py","margin","FcGoogle","Snackbar","autoHideDuration","PrivateRoute","Navigate","to","ContractInfo","numberRef","addressRef","workRef","buttonStyle","defaultValue","updateFunction","updatedName","updateMobile","updateProfession","updateAddress","ImCross","JoinedGroups","MyContacts","TabPanel","other","role","hidden","UserSetting","matchUser","useParams","profileUpdateings","setProfileUpdateing","a11yProps","tabStyle","button","Container","pt","PhotoCamera","Tabs","orientation","handleChange","newValue","Tab","label","ForgetPass","App","Routes","Route","path","element","store","configureStore","reducer","counterReducer","ReactDOM","render","StrictMode","Provider","BrowserRouter"],"mappings":"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","file":"static/js/main.8e5068ff.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import axios from 'axios';\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nconst drawerCondition = localStorage.getItem('openDrawer');\n\nexport interface DataState {\n  value: number;\n  status: 'idle' | 'loading' | 'failed';\n  messagedataLoading: boolean,\n  loginUser: any,\n  allUsers: any[],\n  usersDataLoading: boolean,\n  convertationUsers: any[],\n  selectedUser: any,\n  selectedGroupMembers: any[],\n  allGroups: any[],\n  groupsDataLoading: boolean,\n  selectedGroup: any,\n  messages: any[],\n  messageDataLoading: boolean,\n  groupChat: any[],\n  createdGroup: any,\n  joinedGroups: any[],\n  searchText: string,\n  deleteTextLoading: boolean,\n  allMessageDeleteLoading: boolean,\n  openDetailsSection: any,\n  updateUserInfo: any\n};\n\nconst initialState: DataState = {\n  value: 0,\n  status: 'idle',\n  messagedataLoading: true,\n  loginUser: {},\n  allUsers: [],\n  usersDataLoading: true,\n  convertationUsers: [],\n  selectedUser: {},\n  selectedGroupMembers: [],\n  allGroups: [],\n  groupsDataLoading: true,\n  selectedGroup: {},\n  messages: [],\n  messageDataLoading: true,\n  groupChat: [],\n  createdGroup: {},\n  joinedGroups: [],\n  searchText: \"\",\n  updateUserInfo: '',\n  deleteTextLoading: true,\n  allMessageDeleteLoading: true,\n  openDetailsSection: true\n};\n\n\nexport const getAllMessages = createAsyncThunk(\n  'messsages/data',\n  async (roomID: number) => {\n    const response = await axios.get(`http://localhost:8080/chat/${roomID}`);\n    return response.data;\n  }\n)\n\nexport const getAllUsers = createAsyncThunk(\n  'allusers/data',\n  async () => {\n    const response = await axios.get(`http://localhost:8080/users`);\n    return response.data;\n  }\n)\n\nexport const gellAllGroups = createAsyncThunk(\n  'allgroups/data',\n  async () => {\n    const response = await axios.get('http://localhost:8080/group');\n    return response.data;\n  }\n)\n\nexport const deleteChatMessage = createAsyncThunk(\n  'deletemessage/data',\n  async (id: any) => {\n    const response: any = await axios.put(`http://localhost:8080/chat/deletemessage/${id}`);\n    return response.data;\n  }\n)\n\nexport const deleteAllRoomMessage = createAsyncThunk(\n  'deleteallmessage/data',\n  async (id: any) => {\n    const response: any = await axios.delete(`http://localhost:8080/chat/deleteallmessages/${id}`);\n    return response.data;\n  }\n)\n\nexport const updateUserName = createAsyncThunk(\n  'updateUserName/data',\n  async (data: any) => {\n    const response: any = await axios.put(`http://localhost:8080/users/updatename/${data.uid}`, data);\n    return response.data;\n  }\n)\n\n\nexport const updateUserNumber = createAsyncThunk(\n  'updateUserNumber/data',\n  async (data: any) => {\n    const response: any = await axios.put(`http://localhost:8080/users/updatennumber/${data.uid}`, data);\n    return response.data;\n  }\n)\n\n\nexport const updateUserAddress = createAsyncThunk(\n  'updateUserAddress/data',\n  async (data: any) => {\n    const response: any = await axios.put(`http://localhost:8080/users/updatenaddress/${data.uid}`, data);\n    return response.data;\n  }\n)\n\n\nexport const updateUserProfession = createAsyncThunk(\n  'updateUserProfession/data',\n  async (data: any) => {\n    const response: any = await axios.put(`http://localhost:8080/users/updatenprofession/${data.uid}`, data);\n    return response.data;\n  }\n)\n\n\n\nexport const dataSlice = createSlice({\n  name: 'dataSlice',\n  initialState,\n\n  reducers: {\n    currentLoginUser: (state, action: PayloadAction<object>) => {\n      state.loginUser = action.payload;\n    },\n    myConvertations: (state, action: PayloadAction<any>) => {\n      state.convertationUsers = action.payload;\n    },\n    selectUser: (state, action: PayloadAction<any>) => {\n      state.selectedUser = action.payload;\n    },\n\n    addGroupMembers: (state, action: PayloadAction<any>) => {\n      state.selectedGroupMembers.push(action.payload);\n    },\n    removeFromSelectedPeople: (state, action: PayloadAction<any>) => {\n      // state.selectedGroupMembers = state.selectedGroupMembers.filter(member => member?.uid !== action.payload);\n      state.selectedGroupMembers = state.selectedGroupMembers.filter(member => member.uid !== action.payload);\n    },\n    reseatGroupMembers: (state, action: PayloadAction<any>) => {\n      state.selectedGroupMembers = [];\n      state.selectedGroup = {};\n    },\n    selectGroup: (state, action: PayloadAction<Function>) => {\n      state.selectedGroup = action.payload;\n    },\n    getGroupChat: (state, action: PayloadAction<any>) => {\n      state.groupChat = action.payload;\n    },\n    saveCreatedGroup: (state, action: PayloadAction<any>) => {\n      state.createdGroup = action.payload;\n    },\n    getJoinedGroups: (state, action: PayloadAction<any[]>) => {\n      state.joinedGroups = action.payload;\n    },\n    saveSearchName: (state, action: PayloadAction<string>) => {\n      state.searchText = action.payload;\n    },\n    setOpenDetailsSection: (state) => {\n      state.openDetailsSection = false;\n    },\n    closeOpenDetailsSection: (state) => {\n      state.openDetailsSection = true;\n    },\n\n  },\n\n  extraReducers: (builder) => {\n    builder\n      .addCase(getAllUsers.pending, (state, action) => {\n        state.usersDataLoading = true;\n      })\n      .addCase(getAllUsers.fulfilled, (state, action) => {\n        state.allUsers = action.payload;\n        state.usersDataLoading = false;\n      })\n      .addCase(gellAllGroups.pending, (state, action) => {\n        state.groupsDataLoading = true;\n      })\n      .addCase(gellAllGroups.fulfilled, (state, { payload }) => {\n        state.groupsDataLoading = false;\n        state.allGroups = payload;\n      })\n      .addCase(getAllMessages.pending, (state, action) => {\n        state.messageDataLoading = true;\n      })\n      .addCase(getAllMessages.fulfilled, (state, { payload }) => {\n        state.messageDataLoading = false;\n        state.messages = payload;\n      })\n      .addCase(deleteChatMessage.pending, (state, action) => {\n        state.deleteTextLoading = true;\n      })\n      .addCase(deleteChatMessage.fulfilled, (state, payload) => {\n        state.deleteTextLoading = false;\n      })\n      .addCase(deleteAllRoomMessage.pending, (state, action) => {\n        state.allMessageDeleteLoading = true;\n      })\n      .addCase(deleteAllRoomMessage.fulfilled, (state, payload) => {\n        state.allMessageDeleteLoading = false;\n      })\n      .addCase(updateUserName.pending, (state, payload) => {\n        state.updateUserInfo = true;\n      })\n      .addCase(updateUserName.fulfilled, (state, payload) => {\n        state.updateUserInfo = false;\n      })\n      .addCase(updateUserNumber.pending, (state, payload) => {\n        state.updateUserInfo = true;\n      })\n      .addCase(updateUserNumber.fulfilled, (state, payload) => {\n        state.updateUserInfo = false;\n      })\n      .addCase(updateUserAddress.pending, (state, payload) => {\n        state.updateUserInfo = true;\n      })\n      .addCase(updateUserAddress.fulfilled, (state, payload) => {\n        state.updateUserInfo = false;\n      })\n      .addCase(updateUserProfession.pending, (state, payload) => {\n        state.updateUserInfo = true;\n      })\n      .addCase(updateUserProfession.fulfilled, (state, payload) => {\n        state.updateUserInfo = false;\n      })\n  },\n});\n\nexport const { currentLoginUser, myConvertations, selectUser, addGroupMembers, removeFromSelectedPeople, selectGroup, getGroupChat, saveCreatedGroup, reseatGroupMembers, getJoinedGroups, saveSearchName, setOpenDetailsSection, closeOpenDetailsSection } = dataSlice.actions;\n\nexport default dataSlice.reducer;\n","import React from 'react'\nimport { styled } from '@mui/material/styles';\nimport Badge from '@mui/material/Badge';\nimport Avatar from '@mui/material/Avatar';\nimport Stack from '@mui/material/Stack';\n\nconst StyledBadge = styled(Badge)(({ theme }) => ({\n    '& .MuiBadge-badge': {\n        backgroundColor: '#44b700',\n        color: '#44b700',\n        boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n        '&::after': {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            borderRadius: '50%',\n            animation: 'ripple 1.2s infinite ease-in-out',\n            border: '1px solid currentColor',\n            content: '\"\"',\n        },\n    },\n    '@keyframes ripple': {\n        '0%': {\n            transform: 'scale(.8)',\n            opacity: 1,\n        },\n        '100%': {\n            transform: 'scale(2.4)',\n            opacity: 0,\n        },\n    },\n}));\n\n\nexport const ActiveBadge = ({ photoURL, width = 50, height = 50}: {photoURL: string, width?: number, height?: number}) => {\n\n    return (\n\n        <>\n            <StyledBadge\n                overlap=\"circular\"\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n                variant=\"dot\"\n            >\n                <Avatar\n                    sx={{\n                        width: { xs: 30, md: width },\n                        height: { xs: 30, md: height },\n                    }}\n                    alt=\"Remy Sharp\"\n                    src={photoURL}\n                />\n            </StyledBadge>\n        </>\n    )\n}","import React from 'react'\nimport { Avatar, Box, Typography } from '@mui/material';\nimport { MdReply } from 'react-icons/md';\nimport { useAppDispatch } from '../Redux/hooks';\nimport { selectUser } from '../Redux/counterSlice';\nimport { ActiveBadge } from '../ActiveBadge/ActiveBadge';\n\n\nfunction CovertationUser({ convertionalUser, socket, uid, selectChatBox, onlineUsers }: any) {\n    const dispatch = useAppDispatch();\n     \n    return (\n\n        <>\n            <Box\n                onClick={() => {\n                    dispatch(selectUser(convertionalUser))\n                    selectChatBox()\n                }}\n                sx={{\n                    display: \"flex\",\n                    gap: 1,\n                    alignItems: 'center',\n                    mb: 3,\n                    p: 1,\n                    borderRadius: uid === convertionalUser.uid ? 0 : 2,\n                    background: uid === convertionalUser.uid ? 'none' : '#5C4F81',\n                    borderRight: uid === convertionalUser.uid ? '3px solid #5C4F81' : ''\n                }}>\n\n                {/* ActiveBadge */}\n                {\n                    onlineUsers.includes(convertionalUser.uid) ?\n                       <ActiveBadge photoURL={convertionalUser.photoURL} />\n                        :\n                        <Avatar\n                            alt=\"user photo\"\n                            sx={{\n                                width: { xs: 30, md: 50 },\n                                height: { xs: 30, md: 50 },\n                            }}\n                            src={convertionalUser.photoURL}\n                        />\n\n                }\n\n                <Box sx={{ display: { xs: 'none', md: 'block' } }}>\n\n\n                    <Typography variant='h6' sx={{ fontSize: 16, color: \"whitesmoke\" }}>\n                        {convertionalUser.displayName}\n                    </Typography>\n\n                    <Typography variant='h6' sx={{ fontSize: 11, color: '#9881d6' }}>\n\n                        {\n                            uid === convertionalUser.uid && <MdReply className='reply_icon'\n                            />\n                        }\n\n                        {convertionalUser.email}\n\n                    </Typography>\n\n                </Box>\n\n            </Box>\n        </>\n    )\n}\n\nexport default CovertationUser;","import React, { useEffect, useState } from 'react'\nimport CovertationUser from './convertionalUser';\nimport { useFirebase } from '../hooks/useFirebase';\nimport { useAppDispatch, useAppSelector } from '../Redux/hooks';\nimport { getAllUsers, myConvertations, selectUser } from '../Redux/counterSlice';\nimport { Box, Button, Skeleton, Typography } from '@mui/material';\n\nfunction Covertation({ socket, roomId, uid, addConverationRoute, handleDrawerOpen, selectChatBox, onlineUsers }: any) {\n\n    const [newUsers, setNewUsers] = useState<object>({});\n\n    socket?.current?.on('addedUser', function (data: any) {\n        dispatch(getAllUsers())\n        setNewUsers(data);\n    })\n    // const { user } = useFirebase();\n    const dispatch = useAppDispatch();\n    const { allUsers, convertationUsers, usersDataLoading, selectedUser, searchText, loginUser } = useAppSelector(state => state.data);\n    const currentUser = allUsers.find(current => current.uid === loginUser.uid);\n\n\n\n\n    // data load\n    useEffect(() => {\n\n        // dispatch(getAllUsers());\n        const contractAllUsers = [];\n\n        if (currentUser?.contracts?.length === 0 || currentUser?.contracts?.length == null) return;\n\n        for (let i = 0; i < currentUser?.contracts?.length; i++) {\n            const contract = currentUser?.contracts[i];\n            const contractsUsers = allUsers.find(user => user.uid === contract);\n            contractAllUsers.push(contractsUsers);\n        }\n        dispatch(myConvertations(contractAllUsers));\n\n    }, [loginUser, usersDataLoading, newUsers]);\n    \n\n    // match user by serach name\n    const matchUsers = convertationUsers.filter(user => user.displayName?.toLowerCase()?.includes(searchText?.toLowerCase()));\n\n    // stylesheet\n    const textStyle = {\n        mb: 2,\n        textAlign: 'center',\n        color: 'whitesmoke',\n        letterSpacing: 2,\n        fontSize: { xs: '0.5rem', md: '1rem', lg: '1.5rem' },\n    }\n\n    return (\n\n        <Box sx={{ p: 2, height: 550, overflowY: 'scroll' }}>\n\n            {\n                convertationUsers?.length === 0 && !usersDataLoading && <Box sx={{ width: '100%' }}>\n\n                    <Typography variant='h5' sx={textStyle}>\n                        Please add people on your contracts\n                    </Typography>\n\n                    <Button id=\"addContactBtn\" onClick={addConverationRoute} sx={{ display: { xs: 'none', lg: 'block' } }}>Make friends</Button>\n\n                    <Button onClick={handleDrawerOpen} id=\"addContactBtn\" sx={{ display: { xs: 'block', lg: 'none' } }}>Add People</Button>\n\n\n                </Box>\n            }\n\n            {\n                usersDataLoading && convertationUsers.length === 0 && <>\n                    {\n                        [...new Array(4)].map((ske, index) => <Skeleton key={index} height={90} animation=\"wave\" />)\n                    }\n                </>\n            }\n\n            {\n                matchUsers.map((convertionalUser, index) => <CovertationUser\n                    key={convertionalUser._id}\n                    convertionalUser={convertionalUser}\n                    uid={uid}\n                    socket={socket}\n                    onlineUsers={onlineUsers}\n                    selectChatBox={selectChatBox}\n                    roomId={roomId}\n                />\n                )\n            }\n        </Box>\n    )\n}\n\nexport default Covertation;","// Your web app's Firebase configuration\nexport const firebaseConfig = {\n    apiKey: \"AIzaSyBR6dd5hk9PLwiNMKtmOV_r5M3l6BvRW3Q\",\n    authDomain: \"leaveschat.firebaseapp.com\",\n    projectId: \"leaveschat\",\n    storageBucket: \"leaveschat.appspot.com\",\n    messagingSenderId: \"622961679676\",\n    appId: \"1:622961679676:web:59335a09cc9c0bb694d239\",\n    measurementId: \"G-5L58HEEQR7\"\n};\n","import { initializeApp } from '@firebase/app';\nimport { firebaseConfig } from './FirebaseConfig';\n\nexport const firebaseInitalize = () => {\n    return (\n        initializeApp(firebaseConfig)\n    );\n};\n","import React, { useEffect, useRef, useState } from 'react'\nimport { createUserWithEmailAndPassword, getAuth, GoogleAuthProvider, onAuthStateChanged, sendPasswordResetEmail, signInWithEmailAndPassword, signInWithPopup, signOut, updateProfile } from \"firebase/auth\";\nimport { firebaseInitalize } from '../Firebase/FirebaseInitalize';\nimport { useAppDispatch } from '../Redux/hooks';\nimport { currentLoginUser } from '../Redux/counterSlice';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { FirebaseSignInProvider } from '@firebase/util';\n// import axios from 'axios';\nimport io from 'socket.io-client';\nimport swal from 'sweetalert';\n\nfirebaseInitalize();\n\nexport const useFirebase = () => {\n\n    // const socketClient = useRef<SocketIOClient.Socket>();\n    // socketClient.current = io.connect(\"http://localhost:5000\");\n    const [user, setUser] = useState<any>({});\n    const [loading, setLoading] = useState<boolean>(true);\n    const [error, setError] = useState<string>('');\n    const dispatch = useAppDispatch();\n    const navigate = useNavigate();\n    const [processing, setProcessing] = useState<boolean>(false);\n    let creatId = user.metadata?.createdAt;\n    const googleProvider = new GoogleAuthProvider();\n    const auth: any = getAuth();\n    const location: any = useLocation();\n\n    const signUpWithEmail = (name: string, email: string, password: any) => {\n        setLoading(true);\n        setProcessing(true);\n        createUserWithEmailAndPassword(auth, email, password)\n            .then((userCredential) => {\n                //update user profile\n                updateProfile(auth.currentUser, {\n                    displayName: name, photoURL: \"https://w7.pngwing.com/pngs/831/88/png-transparent-user-profile-computer-icons-user-interface-mystique-miscellaneous-user-interface-design-smile-thumbnail.png\"\n                }).then((data) => {\n                    const user = userCredential.user;\n                    const { createdAt }: any = user.metadata\n                    const userData: object = { photoURL: user.photoURL, displayName: user.displayName, uid: user.uid, createdAt: createdAt, email: user.email, phone: null, adress: null, contracts: [], groups: [], profession: null };\n                    saveUser(userData, 'POST');\n                    dispatch(currentLoginUser({ userData }));\n                    setProcessing(false);\n                    navigate(location.state?.from.pathname || '/')\n                }).catch((error) => {\n                    setError(error.message)\n                }).finally(() => setLoading(false));\n\n            }).catch(error => {\n                setProcessing(false);\n                setError(error.message);\n            })\n    };\n\n    const logInWithEmail = (email: string, password: any) => {\n        setLoading(true)\n        setProcessing(true);\n        signInWithEmailAndPassword(auth, email, password)\n            .then((userCredential) => {\n                const user: any = userCredential.user;\n                const { createdAt }: any = user.metadata\n                const userData: object = { photoURL: user.photoURL, displayName: user.displayName, uid: user.uid, createdAt: createdAt, email: user.email, phone: null, adress: null, contracts: [], groups: [], profession: null };\n                dispatch(currentLoginUser({ userData }));\n                setProcessing(false);\n                navigate(location.state?.from.pathname || '/');\n            })\n            .catch((error) => {\n                setError(error.message);\n                setProcessing(false);\n            }).finally(() => setLoading(false))\n    }\n\n\n\n    const handleGoogleSign = (location: any) => {\n        setLoading(true);\n        signInWithPopup(auth, googleProvider)\n            .then((result: any) => {\n                const user = result.user;\n                const createdDate: any = { createdAt: user.metadata.createdAt }\n                const userData: object = { photoURL: user.photoURL, displayName: user.displayName, uid: user.uid, createdAt: createdDate.createdAt, email: user.email, phone: null, adress: null, contracts: [], groups: [], profession: null };\n\n                dispatch(currentLoginUser({ userData }));\n                const redirect: any = location.state?.from.pathname || '/';\n                navigate(redirect);\n                setLoading(false);\n\n\n                axios.get(`http://localhost:8080/users/checkuser/${user?.uid}`)\n                    .then(res => {\n                        if (res.data.newUser === true) {\n                            saveUser(userData, 'PUT');\n                        } else {\n                        }\n                    })\n\n                // saveUser(userData, 'PUT')\n\n                // fetch('http://localhost:8080/users', {\n                //     method: 'PUT',\n                //     headers: {\n                //         'content-type': 'application/json'\n                //     },\n                //     body: JSON.stringify(userData)\n                // })\n                //     .then()\n                // empty dependency array means this effect will only run once (like componentDidMount in classes)\n                // axios.post(`http://localhost:8080/users`, user)\n            }).catch((error) => {\n                setError(error.message);\n            }).finally(() => setLoading(false));\n    }\n\n    useEffect(() => {\n        setLoading(true);\n        onAuthStateChanged(auth, (user: any) => {\n            if (user) {\n                // loginUser\n                const createdDate: any = { createdAt: user.metadata.createdAt }\n                const userData: object = { photoURL: user.photoURL, displayName: user.displayName, uid: user.uid, createdAt: createdDate.createdAt, email: user.email, };\n                // socketClient?.current?.emit('login', { loginUser: userData });\n                dispatch(currentLoginUser(userData));\n                setUser(user)\n            } else {\n                setUser({});\n                dispatch(currentLoginUser({}));\n            }\n            setLoading(false);\n        })\n    }, [auth]);\n\n\n    // save user on database \n    const saveUser = (data: object, method: string) => {\n        fetch('http://localhost:8080/users', {\n            method: method,\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        })\n            .then()\n    };\n\n\n\n    const logOut = () => {\n        setLoading(true);\n        const auth = getAuth();\n        signOut(auth).then(() => {\n            setUser({});\n            dispatch(currentLoginUser({}));\n        }).catch((error) => {\n            console.error(error);\n        }).finally(() => setLoading(false));\n    }\n\n    // send reset paassword email\n    const reseatPassword = (email: string) => {\n        setProcessing(true);\n        sendPasswordResetEmail(auth, email)\n            .then(() => {\n                setProcessing(false);\n                swal(\"Email sent\", \"Please check your email\", \"success\");\n            })\n            .catch((error) => {\n                const errorMessage = error.message;\n                setError(errorMessage);\n                setProcessing(false);\n            });\n\n    };\n\n    // update profile picture and name\n    const updatePhotoAndName = (name: string, photo: string) => {\n        updateProfile(auth.currentUser, {\n            displayName: name, photoURL: photo\n        }).then((data) => {\n            // Profile updated!\n            // ...\n        }).catch((error:any) => {\n            console.log(error.message);\n            // An error occurred\n            setError(error.message)\n            // ...\n        });\n    };\n\n\n    const updateError = (error: string) => {\n        setError(error)\n    }\n\n    return {\n        handleGoogleSign,\n        user,\n        error,\n        loading,\n        logOut,\n        signUpWithEmail,\n        logInWithEmail,\n        processing,\n        reseatPassword,\n        updatePhotoAndName,\n        updateError\n    };\n}","import React from 'react';\nimport CircularProgress, {\n    circularProgressClasses,\n    CircularProgressProps,\n} from '@mui/material/CircularProgress';\nimport { Box } from '@mui/material';\n\n\n// Inspired by the former Facebook spinners.\nexport function FacebookCircularProgress(props: CircularProgressProps) {\n    return (\n        <Box sx={{ position: 'relative' }}>\n            <CircularProgress\n                variant=\"determinate\"\n                sx={{\n                    color: (theme) =>\n                        theme.palette.grey[theme.palette.mode === 'light' ? 400 : 800],\n                }}\n                size={25}\n                thickness={4}\n                {...props}\n                value={100}\n            />\n            <CircularProgress\n                variant=\"indeterminate\"\n                disableShrink\n                sx={{\n                    color: (theme) => (theme.palette.mode === 'light' ? '#4E426D' : '#308fe8'),\n                    animationDuration: '550ms',\n                    position: 'absolute',\n                    left: 0,\n                    [`& .${circularProgressClasses.circle}`]: {\n                        strokeLinecap: 'round',\n                    },\n                }}\n                size={25}\n                thickness={4}\n                {...props}\n            />\n        </Box>\n    );\n}\n","import * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Modal from '@mui/material/Modal';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport { Avatar } from '@mui/material';\n\nconst style = {\n    position: 'absolute' as 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: 450,\n    bgcolor: 'background.paper',\n    boxShadow: 24,\n};\n\nexport default function ImageModal({ openModal, handleOpenModal, handleCloseModal, image }: any) {\n\n\n    return (\n\n        <>\n            <Modal\n                keepMounted\n                open={openModal}\n                onClose={handleCloseModal}\n                aria-labelledby=\"keep-mounted-modal-title\"\n                aria-describedby=\"keep-mounted-modal-description\"\n            >\n                <Box sx={style}>\n\n                    <Avatar\n                        src={image}\n                        sx={{ width: '100%', height: '100%', borderRadius: 0 }}\n                        alt=\"sender image\"\n                    />\n\n                </Box>\n            </Modal>\n\n        </>\n    );\n}\n","import React, { useState } from 'react';\nimport { Avatar, Box, CircularProgress, IconButton, Typography } from '@mui/material';\nimport { format } from 'timeago.js';\nimport ImageModal from '../ImageModal/ImageModal';\nimport { AiOutlineDelete } from 'react-icons/ai';\nimport { useAppDispatch, useAppSelector } from '../Redux/hooks';\nimport { deleteChatMessage } from '../Redux/counterSlice';\nimport { GoCircleSlash } from 'react-icons/go';\nimport '../../App.css';\n\nconst Message = ({ messageContent, user, textLoading, socket, roomId, deletedMessage }: any) => {\n\n\n    // image modal open function\n    const [openModal, setOpenModal] = React.useState<boolean>(false);\n    const handleOpenModal = () => setOpenModal(true);\n    const handleCloseModal = () => setOpenModal(false);\n    const disptach = useAppDispatch();\n    const { deleteTextLoading } = useAppSelector(state => state.data);\n    const [selectedMessage, setSelecteMessage] = useState<any>({});\n\n\n    // handleDleteMessage\n    const handleDleteMessage = (message: any) => {\n        disptach(deleteChatMessage(messageContent?._id));\n        const data = { ...message, roomId };\n        socket?.current?.emit(\"deleteMessage\", data);\n    };\n\n    // stylesheet\n    const loader = {\n        background: \"#4E426D\",\n        color: \"#fff\",\n        ml: 3,\n        '&:hover': { background: \"#4E426D\" }\n    }\n\n\n\n    return (\n\n        <>\n\n\n            {\n                messageContent?.deleted ?\n                    <Box sx={{ display: 'grid', justifyContent: messageContent.userId === user.uid ? 'flex-end' : 'flex-start' }}>\n                        <Typography\n                            className='message_text'\n                            sx={{\n                                background: \"#4E426D\",\n                                p: 1.5,\n                                color: \"#ddd6d6\",\n                                borderRadius: 2,\n                                mb: 2,\n                            }}\n                            variant='body2'\n                        >\n                            <GoCircleSlash /> This message was deleted\n                        </Typography>\n\n                    </Box>\n                    :\n                    <Box\n                        id={messageContent.userId === user.uid ? \"myMessage\" : \"yourMessage\"}\n                        key={messageContent._id}\n                        sx={{ mb: 2 }}\n                    >\n\n\n\n                        {/* delete text button */}\n                        {\n                            messageContent.userId === user.uid &&\n                            <IconButton\n                                onClick={() => {\n                                    handleDleteMessage(messageContent);\n                                    setSelecteMessage(messageContent);\n                                }}\n                                className='delete_button'\n                            >\n                                <AiOutlineDelete style={{ fontSize: 16 }} />\n                            </IconButton>\n\n                        }\n\n                        {/* {\n                            messageContent.userId === user.uid && messageContent._id === selectedMessage._id && deleteTextLoading &&\n                            <IconButton className='delete_button' sx={loader}>\n                                <CircularProgress size={14} sx={{ color: \"#fff\" }} />\n                            </IconButton>\n                        } */}\n\n                        {\n                            messageContent.userId !== user.uid &&\n                            <Avatar\n                                sx={{ width: 25, height: 25, objectFit: \"cover\", mt: 3, mr: 0.5, background: \"#fff\" }}\n                                src={messageContent?.image}\n                                alt=\"senderImage\"\n                            />\n                        }\n\n\n                        <span>\n\n                            {\n                                messageContent.picture && <>\n\n                                    <Avatar\n                                        onClick={handleOpenModal}\n                                        sx={{ width: { xs: 120, md: 200 }, height: { xs: 100, md: 150 }, borderRadius: 2, boxShadow: 3, mb: 1 }}\n                                        src={messageContent?.picture}\n                                        alt=\"sendpicture\"\n                                    />\n\n                                </>\n                            }\n\n                            {\n                                messageContent.message !== '' &&\n\n                                <Typography\n                                    className='message_text'\n                                    sx={{\n                                        background: \"#4E426D\",\n                                        p: 1.5,\n                                        color: \"whitesmoke\",\n                                        lineHeight: 1.5,\n                                        borderRadius: 2\n                                    }}\n                                    variant='body2'\n                                >\n                                    {messageContent.message}\n                                </Typography>\n                            }\n\n\n                            <Typography variant='caption' sx={{ fontSize: 10, color: \"#e5dada\" }}>\n                                {format(messageContent.time)}\n                            </Typography>\n\n                        </span>\n\n\n                    </Box>\n            }\n            <ImageModal\n                image={messageContent.picture}\n                openModal={openModal}\n                handleOpenModal={handleOpenModal}\n                handleCloseModal={handleCloseModal}\n            />\n\n        </>\n\n    )\n}\n\nexport default Message;","import React from 'react';\nimport { Avatar, Fade, IconButton, Paper, Skeleton, Stack, Typography } from '@mui/material';\nimport { AiOutlineMail } from 'react-icons/ai';\nimport { FiSmartphone } from 'react-icons/fi';\nimport { Box } from '@mui/system';\nimport { useAppSelector } from '../Redux/hooks';\n\nconst UserDetails = ({ user }: any) => {\n\n    const { messages, messageDataLoading, openDetailsSection } = useAppSelector(state => state?.data);\n    const images = messages.filter(image => image?.picture);\n\n    return (\n\n        <>\n\n\n\n            <Paper elevation={0} sx={{\n                p: 3,\n                borderRadius: 0,\n                background: \"#4E426D\",\n            }}>\n\n                <Avatar src={user?.photoURL} alt={user?.email} sx={{ width: 70, height: 70, m: '0 auto' }} />\n\n                <Typography variant='h6' sx={{ fontSize: 18, textAlign: 'center', mt: 1, color: \"#fff\" }}>{user?.displayName}</Typography>\n\n                {\n                    user?.profession && <Typography variant='h6' sx={{ fontSize: 14, textAlign: 'center', mt: 1, color: \"whitesmoke\" }}>\n                        {user.profession}\n                    </Typography>\n                }\n\n                {\n                    user?.adress && <Typography variant='h6' sx={{ fontSize: 13, textAlign: 'center', mt: 1, color: \"whitesmoke\" }}>\n                        {user.adress}\n                    </Typography>\n                }\n\n                <Typography variant='h6' sx={{ fontSize: 16, mt: 3, borderBottom: '2px solid #5C4F81', pb: 1, mb: 2, color: \"whitesmoke\" }}>Contact Information</Typography>\n\n                <Box sx={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 2,\n                    my: 1,\n                }}>\n\n                    <IconButton sx={{ fontSize: 18, color: 'whitesmoke', background: '#5C4F81' }}>\n                        <AiOutlineMail />\n                    </IconButton>\n\n\n                    <Typography variant='h6' sx={{ fontSize: 13, color: \"whitesmoke\" }}>\n                        {user?.email}\n                    </Typography>\n\n\n                </Box>\n\n\n                {\n                    user?.phone && <Box sx={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: 2,\n                        my: 2\n                    }}>\n\n                        <IconButton sx={{ fontSize: 18, color: 'whitesmoke', background: '#5C4F81' }}>\n                            <FiSmartphone />\n                        </IconButton>\n\n\n                        <Typography variant='h6' sx={{ fontSize: 13, color: \"whitesmoke\" }}>\n                            {user?.phone}\n                        </Typography>\n\n\n                    </Box>\n                }\n\n                <p style={{ borderBottom: '2px solid #5C4F81', }} />\n\n                <Typography variant='h6'\n                    sx={{\n                        fontSize: 14,\n                        letterSpacing: 1,\n                        color: 'whitesmoke'\n                    }}\n                >\n                    Attachment ({images.length})\n                </Typography>\n\n\n                {\n                    messageDataLoading &&\n                    <Box className=\"attachment\">\n                        {[...new Array(3)].map((ske, index) => <Stack key={index} spacing={1} >\n                            <Skeleton\n                                variant=\"rectangular\"\n                                sx={{\n                                    height: 60,\n                                    width: 70,\n                                    borderRadius: 2,\n                                }}\n                            />\n                        </Stack>\n                        )}\n                    </Box>\n                }\n\n                {\n                    !messageDataLoading &&\n\n                    <Box className=\"attachment\">\n                        {\n                            messages.map(message => message.picture !== '' && <Avatar\n                                src={message?.picture}\n                                key={message._id}\n                                sx={{\n                                    height: 60,\n                                    width: 70,\n                                    borderRadius: 2,\n                                    mb: 2,\n                                    boxShadow: 1\n                                }}\n                            />)\n                        }\n                    </Box>\n                }\n\n            </Paper>\n\n        </>\n    )\n};\n\nexport default UserDetails;","import React, { useEffect, useState } from 'react'\nimport { Accordion, AccordionDetails, AccordionSummary, Avatar, Box, Paper, Typography } from '@mui/material';\nimport { HiOutlineArrowSmDown } from 'react-icons/hi';\n// import ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n// import { ExpandLessIcon } from '@mui/icons-material';\nimport { useAppSelector } from '../Redux/hooks';\nimport { ActiveBadge } from '../ActiveBadge/ActiveBadge';\n\ntype Props = {\n    onlineUsers: string[]\n}\n\nconst GroupDetails = ({onlineUsers}:{onlineUsers:string[]}) => {\n\n    const { selectedGroup, allUsers, groupChat } = useAppSelector(state => state.data);\n    const [groupMembers, setGroupMembers] = useState<any[]>([]);\n    const images = groupChat.filter(image => image.picture);\n\n\n    // get  all group members\n    useEffect(() => {\n        const members = [];\n        for (let i = 0; i < selectedGroup?.groupMembers?.length; i++) {\n            const member = selectedGroup?.groupMembers[i];\n            const matchMember = allUsers.find(user => user.uid === member);\n            members.push(matchMember);\n        };\n        setGroupMembers(members);\n    }, [selectedGroup]);\n\n\n    // stylesheet\n    const groupPerson = {\n        mb: 2,\n        pb: 0.5,\n        display: 'flex',\n        gap: 4,\n        p: 1,\n        alignItems: 'center',\n        background: \"#5C4F81\",\n        borderRadius: 2\n    };\n\n    const textStyle = {\n        fontSize: 15,\n        letterSpacing: 1,\n        fontWeight: 'bold',\n        mt: 1.5,\n        color: 'whitesmoke'\n    };\n\n    const groupTitle = {\n        mt: 1,\n        fontWeight: 'bold',\n        letterSpacing: 1,\n        textAlign: 'center',\n        color: '#fff'\n    }\n\n\n    return (\n\n        <Paper elevation={3} sx={{ p: 3, borderRadius: 0, background: \"#4E426D\", boxShadow: 0 }}>\n\n            <Avatar\n                src={selectedGroup?.coverPhoto}\n                alt=\"groupImage\"\n                sx={{\n                    width: 150,\n                    height: 100,\n                    borderRadius: 2,\n                    m: '0 auto',\n                    boxShadow: 1\n                }}\n            />\n\n            <Typography variant='h6' sx={groupTitle}>{selectedGroup?.groupName}</Typography>\n\n            <Accordion defaultExpanded sx={{ mt: 2, background: \"#4E426D\" }}>\n\n                <AccordionSummary\n                    expandIcon={<HiOutlineArrowSmDown style={{ color: \"whitesmoke\" }} />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                >\n                    <Typography sx={{ color: \"#fff\" }}>Group Members</Typography>\n                </AccordionSummary>\n                <AccordionDetails>\n                    {\n                        groupMembers?.map(member => <Box\n                            key={member._id}\n                            sx={groupPerson}\n                        >\n                           {onlineUsers.includes(member.uid) ? <ActiveBadge width={40} height={40} photoURL={member?.photoURL} /> :\n                            <Avatar\n                                src={member?.photoURL}\n                                alt={member?.displayName}\n                                sx={{ border: '1px solid #4E426D' }}\n                            />}\n\n                            <Typography\n                                variant='body2'\n                                sx={{ fontSize: 17, color: \"whitesmoke\" }}\n                            >\n                                {member?.displayName}\n                            </Typography>\n\n                        </Box>\n                        )\n                    }\n                </AccordionDetails>\n            </Accordion>\n\n            <Typography variant='h6' sx={textStyle}>Attachment ({images?.length})</Typography>\n\n            <Box className=\"attachment\">\n                {\n                    groupChat.map(message => message.picture !== '' && <Avatar\n                        src={message?.picture}\n                        key={message._id}\n                        sx={{\n                            height: 70,\n                            width: 80,\n                            borderRadius: 2,\n                            mb: 2,\n                            boxShadow: 1\n                        }}\n                    />)\n                }\n            </Box>\n\n        </Paper >\n    )\n}\n\nexport default GroupDetails;","import React from 'react'\nimport { Box, IconButton } from '@mui/material'\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\nimport AspectRatioIcon from '@mui/icons-material/AspectRatio';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport Menu from '@mui/material/Menu';\nimport Drawer from '@mui/material/Drawer';\nimport MenuItem from '@mui/material/MenuItem';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { useAppDispatch, useAppSelector } from '../Redux/hooks';\nimport { closeOpenDetailsSection, deleteAllRoomMessage, setOpenDetailsSection } from '../Redux/counterSlice';\nimport UserDetails from '../UserDetails/UserDetails';\nimport '../../App.css';\nimport GroupDetails from '../GroupDetails/GroupDetails';\n\nconst drawerWidth = { xs: '100%', sm: '60%', md: 350 };\n\n\nexport const ExpendMenu = ({ roomId, group, openSidebar, onlineUsers }: any) => {\n\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n    const open = Boolean(anchorEl);\n    const { openDetailsSection, selectedUser } = useAppSelector(state => state?.data);\n    // const theme = useTheme();\n    const [openDrawer, setOpenDrawer] = React.useState(false);\n\n    const handleDrawerOpen = () => {\n        setOpenDrawer(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpenDrawer(false);\n    };\n\n    const dispatch = useAppDispatch();\n\n    const handleClick = (event: React.MouseEvent<any>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const deleteMessages = () => {\n        dispatch(deleteAllRoomMessage(roomId));\n    };\n\n    const handleOpenDetailsDrawer = () => {\n        dispatch(setOpenDetailsSection());\n        localStorage.setItem('openDrawer', 'true');\n    };\n\n    const handleCloseDetailsDrawer = () => {\n        dispatch(closeOpenDetailsSection());\n        localStorage.setItem('openDrawer', 'false');\n    };\n\n\n\n    // stylesheet\n    const iconsStyle = {\n        fontSize: 16,\n        color: \"#fff\"\n    };\n\n    const iconButton = {\n        mr: 7,\n        background: \"#5C4F81\",\n    };\n\n    return (\n\n        <>\n            {\n                !group && <IconButton sx={iconButton}>\n                    <MoreHorizIcon\n                        id=\"basic-button\"\n                        aria-controls={open ? 'basic-menu' : undefined}\n                        aria-haspopup=\"true\"\n                        aria-expanded={open ? 'true' : undefined}\n                        onClick={handleClick}\n                        sx={iconsStyle}\n                    />\n                </IconButton>\n\n            }\n\n            <IconButton\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                edge=\"end\"\n                onClick={handleDrawerOpen}\n                sx={{\n                    ...(open && { display: 'none' }),\n                    display: { lg: \"none\" },\n                    color: \"#fff\",\n                    background: \"#5C4F81\",\n                }}\n            >\n                <AspectRatioIcon\n                    sx={iconsStyle}\n                />\n            </IconButton>\n\n            <Drawer\n                onClose={handleDrawerClose}\n                sx={{\n                    width: drawerWidth,\n                    flexShrink: 0,\n                    '& .MuiDrawer-paper': {\n                        width: drawerWidth,\n                        background: '#4E426D'\n                    },\n                    display: { xs: 'block', lg: 'none' }\n                }}\n                variant=\"persistent\"\n                anchor=\"right\"\n                open={openDrawer}\n            >\n                <CloseIcon\n                    onClick={handleDrawerClose}\n                    sx={{\n                        mt: 3,\n                        color: \"#fff\",\n                        ml: 1\n                    }}\n                />\n\n                {\n                    openSidebar !== 11 && <UserDetails user={selectedUser} />\n                }\n\n                {\n                    openSidebar === 11 && <GroupDetails onlineUsers={onlineUsers} />\n                }\n\n\n            </Drawer>\n\n            {\n                openDetailsSection ?\n                    <IconButton\n                        id=\"expand_icon\"\n                        onKeyPress={(event) => {\n                            event.key === \"f\" && dispatch(setOpenDetailsSection());\n                        }}\n                        onClick={handleOpenDetailsDrawer}\n                        sx={iconButton}\n                    >\n                        <AspectRatioIcon\n                            sx={iconsStyle}\n                        />\n                    </IconButton>\n                    :\n                    <IconButton\n                        id=\"expand_icon\"\n                        onKeyPress={(event) => {\n                            event.key === \"f\" && dispatch(closeOpenDetailsSection());\n                        }}\n                        onClick={handleCloseDetailsDrawer}\n                        sx={{\n                            mr: 7,\n                            background: \"#5C4F81\",\n                        }}\n                    >\n                        <AspectRatioIcon\n                            sx={iconsStyle}\n                        />\n                    </IconButton>\n            }\n\n            <Menu\n                id=\"basic-menu\"\n                anchorEl={anchorEl}\n                open={open}\n                onClose={handleClose}\n                sx={{\n                    \"& .MuiPaper-root\": {\n                        backgroundColor: \"#5C4F81\",\n                        color: \"#fff\",\n\n                    }\n                }}\n                MenuListProps={{\n                    'aria-labelledby': 'basic-button',\n                }}\n            >\n\n                <MenuItem sx={{\n                    letterSpacing: 1,\n                    fontSize: 14\n                }}\n                    onClick={deleteMessages}\n                >\n                    <DeleteIcon\n                        sx={{\n                            fontSize: 16,\n                            mr: 0.5\n                        }}\n                    />\n                    DELETE ALL DATA\n                </MenuItem>\n\n            </Menu>\n        </>\n\n    )\n}","import { Avatar, Box, ListItem, Typography } from '@mui/material'\nimport React from 'react'\nimport { useAppSelector } from '../Redux/hooks';\n\n\nexport default function UserTypeing({ typeingUser, roomId }: any) {\n\n    const { loginUser } = useAppSelector(state => state.data);\n\n    return (\n\n        <>\n            <Box>\n                {\n                    typeingUser?.name && typeingUser?.uid !== loginUser.uid && roomId === typeingUser?.roomId &&\n\n                    <Box id=\"typeing_user\">\n\n                        <ListItem id=\"list_item\">\n\n                            <Avatar sx={{ width: 18, height: 18 }} src={typeingUser?.photo} alt={typeingUser?.name} />\n\n                            <Typography sx={{ color: '#fff' }} variant='caption'>{typeingUser?.name} is typeing...</Typography>\n\n                        </ListItem>\n\n                    </Box>\n                }\n            </Box>\n\n        </>\n    )\n}","import { Avatar, Box, CircularProgress, IconButton, Typography } from '@mui/material';\nimport React, { useEffect, useState } from 'react'\nimport { IoMdSend } from 'react-icons/io';\nimport ScrollToBottom from \"react-scroll-to-bottom\";\nimport { MdCameraAlt } from 'react-icons/md';\nimport { useFirebase } from '../hooks/useFirebase';\nimport axios from 'axios';\nimport { useForm } from 'react-hook-form';\nimport { useAppSelector } from '../Redux/hooks';\nimport { FacebookCircularProgress } from '../Loader/Loader';\nimport Message from '../Message/Message';\nimport '../../App.css';\nimport { ExpendMenu } from './ExpendMenu';\nimport UserTypeing from '../UserTypeing/UserTypeing';\n\n\nfunction Chat({ socket, roomId, onlineUsers }: any) {\n\n    const { user } = useFirebase();\n    const { register, watch, setValue, } = useForm();\n    const { selectedUser, messageDataLoading, deleteTextLoading, allMessageDeleteLoading, loginUser } = useAppSelector(state => state.data);\n    const [currentMessage, setCurrentMessage] = useState<any>(\"\");\n    const [imgLoading, setImgLoading] = useState<boolean>(false);\n    const [photoUrl, setPhotoUrl] = useState<string>('');\n    const [messageList, setMessageList] = useState<any[]>([]);\n    const [typeingUser, setTypeingUser] = useState<any>({});\n    const [textLoading, setTextLoading] = useState<boolean>(false);\n    const [unreadMessageCount, setUnreadMessageCount] = useState(0);\n    const [audio] = useState(new Audio('../../utlis/message.mp3'));\n\n\n    // load message \n    useEffect(() => {\n        const getMessages = async () => {\n            try {\n                await axios.get(`http://localhost:8080/chat/${roomId}`)\n                    .then(res => {\n                        setMessageList(res.data);\n                    });\n                \n                const unreadMessages = messageList.filter(message => !message.read)\n                if(unreadMessageCount > 0){\n                    await readMessages()\n                }\n                setUnreadMessageCount(unreadMessages.length)\n            } catch (err) {\n                console.error(err);\n            };\n        };\n        getMessages();\n    }, [roomId, selectedUser, deleteTextLoading, allMessageDeleteLoading]);\n\n\n    // message data\n    const senderMessageData = async () => {\n        setTextLoading(true);\n        const messageData = {\n            roomId: parseInt(roomId),\n            message: currentMessage,\n            image: user.photoURL,\n            userId: user.uid,\n            picture: photoUrl,\n            read: false,\n            time: Date.now()\n        };\n        try {\n            await axios.post(`http://localhost:8080/chat`, messageData)\n            console.log(messageData);\n            setTextLoading(false);\n            setPhotoUrl('');\n        } catch (err) {\n            console.error(err)\n        }\n\n        await socket.current.emit(\"send_message\", messageData);\n        await socket.current.emit('chatSound');\n        setMessageList((list) => [...list, messageData]);\n        setPhotoUrl('');\n        setCurrentMessage(\"\");\n    };\n\n    // send message another people \n    const sendMessage = async () => {\n\n        if (photoUrl !== '' && currentMessage === '') {\n            senderMessageData();\n        };\n        if (currentMessage !== \"\" && photoUrl === '') {\n            senderMessageData();\n        };\n        if (currentMessage !== \"\" && photoUrl !== '') {\n            senderMessageData();\n        };\n    };\n\n    //image uploading\n    useEffect(() => {\n        const imgFile = watch('picFile');\n        if (imgFile?.length) {\n            let body = new FormData();\n            body.set('key', '18b523a65ed553a3bb7441153cbee867')\n            body.append('image', imgFile[0])\n            setImgLoading(true);\n            axios({\n                method: 'post',\n                url: 'https://api.imgbb.com/1/upload',\n                data: body\n            }).then(res => {\n                setPhotoUrl(res.data.data.url);\n                setValue('picFile', res.data.data.url);\n            }).finally(() => setImgLoading(false))\n        }\n        else {\n        }\n\n    }, [watch('picFile')]);\n\n    async function readMessages(){\n      try{\n        const res = await axios.put(`http://localhost:8080/chat/read_messages?roomId=${roomId}`)\n        // console.log(res);\n        console.log('object', res);\n      }catch(err){\n        console.log(err);\n      }\n    }\n\n    // recive message from another person\n    useEffect(() => {\n        const handleReceiveMessage = (data: any) => {\n            const upcomeingMessages: any[] = [...messageList, data];\n            setTypeingUser({});\n            setMessageList(upcomeingMessages);\n            \n            if (data.userId === selectedUser.uid) {\n                readMessages();\n            }\n        };\n    \n        socket.current?.on(\"recive_message\", handleReceiveMessage);\n    \n        return () => {\n            socket.current?.off(\"recive_message\", handleReceiveMessage);\n        };\n    }, [messageList, selectedUser, socket]);\n    \n\n    // user typeing message function\n    const userData = { name: loginUser.displayName, photo: loginUser.photoURL, roomId, uid: loginUser.uid }\n\n    const userTypeing = () => {\n        socket?.current.emit('typing', userData);\n    };\n \n    useEffect(() => {\n        const handleFocusOut = () => {\n            socket?.current.emit('typing', {});\n        };\n    \n        const handleTyping = (data:any) => {\n            setTypeingUser(data);\n        };\n    \n        const handleDeleteMessage = (data:any) => {\n            const filterMessages = messageList?.filter(message => message._id !== data._id);\n            setMessageList(filterMessages);\n        };\n    \n        document?.getElementById(\"message_field\")?.addEventListener('focusout', handleFocusOut);\n        socket?.current?.on('typing', handleTyping);\n        socket?.current?.on(\"deleteMessage\", handleDeleteMessage);\n    \n        // Cleanup function\n        return () => {\n            document?.getElementById(\"message_field\")?.removeEventListener('focusout', handleFocusOut);\n            socket?.current?.off('typing', handleTyping);\n            socket?.current?.off(\"deleteMessage\", handleDeleteMessage);\n        };\n    \n    }, [socket, messageList, currentMessage]);\n    \n\n    // styleSheet\n    const chatHeader = {\n        boxShadow: 0,\n        width: \"100%\",\n        background: \"#4E426D\",\n        ml: { xs: 0, md: 4 },\n        mt: { xs: 0, md: 4 },\n        mb: 0,\n        p: 1.3,\n        display: { xs: 'block', md: 'flex' },\n        justifyContent: 'space-between'\n    };\n\n\n    return (\n        <>\n            {/* chat header */}\n{/* {unreadMessageCount} */}\n            <Box sx={chatHeader}>\n\n                <Box sx={{ display: 'flex', gap: 2 }}>\n\n                    <Avatar alt=\"userimage\" sx={{ width: { xs: 'none', md: 'block' } }} src={selectedUser.photoURL} />\n\n                    <span>\n                        <Typography sx={{ fontSize: 15, color: \"#fff\" }} variant=\"h6\">\n                            {selectedUser.displayName}\n                        </Typography>\n\n                        <small style={{ color: \"#ddd6d6\" }}>\n                            { \n                                 onlineUsers.includes(selectedUser.uid) ? 'Online' : '' \n                            }\n                        </small>\n\n                    </span>\n\n                </Box>\n\n                <Box sx={{ mt: 0.5 }}>\n                    <ExpendMenu\n                        roomId={roomId}\n                    />\n                </Box>\n\n            </Box>\n\n\n\n            {/* messages  */}\n\n            <Box sx={{ p: 4 }}>\n\n                {\n                    messageDataLoading && <Box sx={{\n                        display: 'flex',\n                        justifyContent: 'center',\n                        alignItems: 'center',\n                        height: { xs: '30rem', md: '34rem', xl: 680 }\n                    }}>\n                        <FacebookCircularProgress />\n                    </Box>\n                }\n\n                <Box className=\"message_container\" sx={{ height: { xs: '30rem', md: '34rem',lg: 400, xl: 550 } }}>\n\n\n                    {\n                        messageList?.length === 0 && !messageDataLoading && <Box className='' sx={{ mt: 5, height: { xl: 680, md: 350, lg: 400 } }}>\n\n                            <Avatar alt=\"userimage\" sx={{ height: 80, width: 80, m: '0 auto' }} src={selectedUser.photoURL} />\n\n                            <Typography sx={{ textAlign: 'center', color: 'whitesmoke' }} variant=\"h6\">{selectedUser.displayName}</Typography>\n\n                        </Box>\n                    }\n\n\n                    {\n                        !messageDataLoading && <ScrollToBottom>\n                            {\n                                messageList.map((messageContent) => <Message\n                                    messageContent={messageContent}\n                                    user={user}\n                                    socket={socket}\n                                    roomId={roomId}\n                                    key={messageContent._id}\n                                    textLoading={textLoading}\n                                />)\n                            }\n                        </ScrollToBottom>\n                    }\n\n                </Box>\n\n            </Box>\n            {/* { xl: 680 } */}\n\n            {/* typeing user */}\n            <UserTypeing\n                roomId={roomId}\n                typeingUser={typeingUser}\n            />\n\n            {/* send message section */}\n            {!messageDataLoading &&\n\n                <Box sx={{ p: 4, mb: 4 }} id=\"bottom_nav\">\n\n\n                    {\n                        photoUrl !== '' &&\n                        <Box sx={{ position: 'absolute', bottom: 140 }}>\n                            <Avatar sx={{ width: 150, height: 100, borderRadius: 2, boxShadow: 2 }} alt=\"yourselectpicture\" src={photoUrl} />\n                        </Box>\n                    }\n\n\n                    <textarea\n                        onKeyPress={userTypeing}\n                        onChange={(e) => setCurrentMessage(e.target.value)}\n                        placeholder='Enter a Message'\n                        value={currentMessage}\n                        id=\"message_field\"\n                        style={{\n                            width: '100%',\n                            height: 60,\n                            background: \"#4E426D\",\n                            borderRadius: 10,\n                            marginBottom: 5,\n                            color:'white',\n                            padding:'10px'\n                        }}\n                    />\n\n\n                    <Box sx={{ mt: 0, float: \"right\" }}>\n\n                        <label htmlFor=\"icon-button-file\">\n\n                            <input\n                                style={{ display: 'none' }}\n                                id=\"icon-button-file\"\n                                accept='image/*'\n                                {...register(\"picFile\")}\n                                type=\"file\"\n                            />\n\n                            <IconButton sx={{ background: \"#4E426D\", color: \"#fff\", fontSize: 18 }} aria-label=\"upload picture\" component=\"span\">\n                                <MdCameraAlt />\n                            </IconButton>\n                        </label>\n                        {\n                            !imgLoading ?\n                                <IconButton onClick={sendMessage} sx={{ background: \"#4E426D\", color: \"#fff\", fontSize: 14, ml: 3, '&:hover': { background: \"#4E426D\" } }} >\n                                    <IoMdSend />\n                                </IconButton>\n                                :\n                                <IconButton sx={{ background: \"#4E426D\", color: \"#fff\", ml: 3, '&:hover': { background: \"#4E426D\" } }} >\n                                    <CircularProgress size={14} sx={{ color: \"#fff\" }} />\n                                </IconButton>\n\n                        }\n                    </Box>\n\n\n\n                </Box>\n\n            }\n\n        </>\n\n    )\n}\n\nexport default Chat;","import React, { useState } from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport AvatarGroup from '@mui/material/AvatarGroup';\nimport { Backdrop, Box, Modal, Fade, Button, Typography, TextField, Alert, } from '@mui/material';\nimport { useAppDispatch, useAppSelector } from '../Redux/hooks';\nimport { addGroupMembers, removeFromSelectedPeople, reseatGroupMembers, saveCreatedGroup } from '../Redux/counterSlice';\nimport axios from 'axios';\nimport { CSSTransition } from 'react-transition-group';\nimport { userInfo } from 'os';\n\nconst style = {\n    position: 'absolute' as 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: 430,\n    bgcolor: '#5C4F81',\n    boxShadow: 24,\n    p: 3,\n    borderRadius: 2,\n    zIndex: 90909090\n};\n\n\n\nexport default function GroupsModal({ socket, handleOpen, open, handleClose, handleAddCreatedGroup }: any) {\n\n    // const classes = useStyles();\n\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [skipped, setSkipped] = useState(new Set<number>());\n    const [groupName, setGroupName] = useState<string>('');\n    const { allUsers, selectedGroupMembers, loginUser } = useAppSelector(state => state.data);\n    const dispatch = useAppDispatch();\n    const [loading, setLoading] = useState<boolean>(false);\n\n\n    const isStepSkipped = (step: number) => {\n        return skipped.has(step);\n    };\n\n    const handleNext = () => {\n        let newSkipped = skipped;\n        if (isStepSkipped(activeStep)) {\n            newSkipped = new Set(newSkipped.values());\n            newSkipped.delete(activeStep);\n        }\n\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n        setSkipped(newSkipped);\n    };\n\n    // handleCreateGroup\n    const handleCreateGroup = async () => {\n\n        if (groupName === '') {\n            return alert('Please give the group name..')\n        }\n        setLoading(true);\n\n        const groupMembers = [loginUser.uid];\n        const groupId = Math.floor(Math.random() * 2029832302300000) + 1;\n\n        const data: object = {\n            groupId,\n            groupName,\n            groupMembers,\n            coverPhoto: 'https://i.postimg.cc/t4SCnxv4/ethan-dow-d-Wa-Bk-AWCxs-A-unsplash-1.jpg'\n        };\n\n        for (let member of selectedGroupMembers) {\n            groupMembers.push(member.uid);\n            // console.log(member);\n        };\n\n\n\n\n\n        // socket.current.emit('joinedgroup', { ...data, createdAt: loginUser.createdAt });\n\n\n        try {\n            await axios.post('http://localhost:8080/group', data);\n          \n            dispatch(reseatGroupMembers(0));\n            handleClose();\n            setActiveStep(0);\n\n            socket.current.emit('joinedgroup', data);\n            \n            for (let member of selectedGroupMembers) {\n                await axios.post(`http://localhost:8080/group/saveinuserdata/${member.uid}`, { groupId });\n            };\n            // for currernt user\n            await axios.post(`http://localhost:8080/group/saveinuserdata/${loginUser.uid}`, { groupId });\n\n            handleAddCreatedGroup(data)\n        }\n        catch (err: any) {\n            console.error(err.message);\n        }\n        setLoading(false);\n    };\n\n    // handle select group member\n    const handleSelectMember = (user: object) => {\n        dispatch(addGroupMembers(user));\n    };\n\n    // hanlde remove member\n    const handleRemoveMember = (uid: string) => {\n        dispatch(removeFromSelectedPeople(uid));\n    };\n\n\n    const handleCloseModal = () => {\n        handleClose();\n        setTimeout(() => {\n            dispatch(reseatGroupMembers(0))\n            setActiveStep(0);\n        }, 1000);\n    };\n\n\n    // stylesheet\n    const btnStyle = {\n        borderRadius: 2,\n        p: 0.5,\n        mr: 2,\n        borderColor: \"#fff\",\n        color: \"#fff\",\n        '&:hover': {\n            borderColor: \"#fff\"\n        }\n    }\n\n    const title = {\n        fontSize: 17,\n        letterSpacing: 1,\n        textAlign: 'center',\n        mb: 2,\n        color: \"#fff\"\n    }\n\n    return (\n\n        <>\n\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                open={open}\n                onClose={handleCloseModal}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={open}>\n\n                    <Box sx={style}>\n\n                        {\n                            activeStep === 0 &&\n\n                            <Box>\n\n                                <Typography variant='h6' sx={title}>Create a group</Typography>\n\n                                <input\n                                    placeholder='Search people'\n                                    id=\"search_field\"\n                                    type=\"text\"\n                                />\n\n\n                                <Box sx={{ height: 250, overflowY: 'scroll' }}>\n\n                                    {\n                                        allUsers.map((user, index) => loginUser?.uid !== user?.uid && <Box\n                                            sx={{\n                                                display: 'flex',\n                                                gap: 1,\n                                                alignItems: 'center',\n                                                justifyContent: 'space-between',\n                                                mb: 3,\n                                                background: \"#4E426D\",\n                                                p: 1,\n                                                borderRadius: 3\n                                            }}\n                                        >\n\n                                            <Box sx={{ display: 'flex', gap: 1, alignItems: 'center' }}>\n                                                <Avatar\n                                                    src={user.photoURL}\n                                                    alt={user.displayName}\n                                                />\n\n                                                <Typography sx={{ fontSize: 16, color: \"#fff\" }} variant='h6'>{user.displayName}</Typography>\n\n                                            </Box>\n\n                                            {\n  selectedGroupMembers.find(member => member.uid === user.uid) ? (\n    <Button\n      sx={btnStyle}\n      onClick={() => handleRemoveMember(user.uid)}\n      variant=\"outlined\"\n    >\n      REMOVE\n    </Button>\n  ) : (\n    <Button\n      onClick={() => handleSelectMember(user)}\n      sx={btnStyle}\n      variant=\"outlined\"\n    >\n      Add\n    </Button>\n  )\n}\n                                        </Box>\n                                        )\n                                    }\n\n\n                                </Box>\n\n                            </Box>\n                        }\n\n                        {\n                            activeStep === 1 && <Box>\n\n\n\n                                <Typography\n                                    variant='h6'\n                                    sx={title}\n                                >\n                                    Create a group with\n                                </Typography>\n\n                                <AvatarGroup max={4} sx={{ display: 'flex', justifyContent: 'center', mb: 2 }}>\n                                    {\n                                        selectedGroupMembers.map(member => <Avatar alt={member?.displayName} src={member?.photoURL} />)\n                                    }\n                                </AvatarGroup>\n\n\n                                <input\n                                    style={{\n                                        padding: 17,\n                                        width: '90%',\n                                        borderRadius: 5\n                                    }}\n                                    placeholder='Group Name'\n                                    id=\"search_field\"\n                                    type=\"text\"\n                                    onChange={(e: any) => setGroupName(e.target.value)}\n                                />\n\n                            </Box>\n                        }\n\n                        {\n                            selectedGroupMembers.length > 0 && activeStep === 0 && <Button\n                                variant='contained'\n                                sx={{\n                                    width: '100%',\n                                    borderRadius: 25,\n                                    position: 'relative',\n                                    background: \"#4E426D\",\n                                    '&:hover': {\n                                        background: \"#4E426D\"\n                                    }\n                                }}\n                                onClick={handleNext}\n                            >\n                                NEXT\n                            </Button>\n                        }\n\n                        {\n                            activeStep === 1 && <>\n                                {\n                                    loading ?\n                                        <LoadingButton sx={{\n                                            width: '100%',\n                                            borderRadius: 25,\n                                            position: 'relative'\n                                        }}\n                                            loading variant=\"outlined\"\n                                        >\n                                            Loading...\n                                        </LoadingButton>\n                                        :\n                                        <Button\n                                            variant='contained'\n                                            sx={{\n                                                width: '100%',\n                                                borderRadius: 25,\n                                                position: 'relative',\n                                                background: \"#4E426D\",\n                                                '&:hover': {\n                                                    background: \"#4E426D\"\n                                                }\n                                            }}\n                                            onClick={handleCreateGroup}\n                                        >\n                                            CREATE GROUP\n                                        </Button>\n                                }\n                            </>\n                        }\n\n                    </Box>\n                </Fade>\n            </Modal>\n        </>\n    );\n}\n","import { Avatar, AvatarGroup, Box, Typography } from '@mui/material'\nimport React, { useEffect } from 'react'\nimport { selectGroup, selectUser } from '../Redux/counterSlice';\nimport { useAppDispatch, useAppSelector } from '../Redux/hooks';\n// groupId: number,\n// groupMembers: string[],\n//     _id: string,\n//         groupName: string,\ntype Props = {\n\n    group: any\n}\n\nfunction Group({ group, handleAddRoomId, socket, mygroups }: any) {\n\n\n\n\n    const members: any[] = [];\n    const { groupName, groupId, coverPhoto } = group;\n    const { allUsers, allGroups, selectedGroup } = useAppSelector(state => state.data);\n    const dispatch = useAppDispatch();\n\n    // get group my user id\n    for (const userID of group?.groupMembers) {\n        let groupMember = allUsers.find((user: any) => user.uid === userID)\n        members.push(groupMember);\n    };\n\n\n    // set iniitial group\n    if (Object?.keys(selectedGroup)?.length === 0) {\n        dispatch(selectGroup(mygroups[0]));\n    };\n\n    let roomID: any = 0;\n\n    const handleSelectGroup = () => {\n\n        dispatch(selectGroup(group));\n\n        for (let i = 0; i < members.length; i++) {\n            const member = members[i];\n            const createdAt = member?.createdAt\n            roomID += parseFloat(createdAt);\n        }\n\n        handleAddRoomId(roomID);\n        socket.current.emit('join_room', roomID);\n    };\n\n\n\n    return (\n\n        <>\n            {\n                groupName && <Box\n                    sx={{\n                        display: 'flex',\n                        gap: 1.5,\n                        mb: 2,\n                        p: 1,\n                        background: group.groupId === selectedGroup?.groupId ? '#5C4F81' : '',\n                        borderBottom: '2px solid #5C4F81'\n\n                    }}\n                    onClick={handleSelectGroup}\n\n                >\n\n                    <Avatar src={coverPhoto} alt={groupName} sx={{ borderRadius: 1, width: 50, height: 50, my: 0.3 }} />\n\n                    <Box>\n\n                        <Typography variant='h6' sx={{ fontSize: 17, letterSpacing: 1, color: 'whitesmoke' }}>{groupName}</Typography>\n\n                        <AvatarGroup className='avatar_container' max={5} sx={{ display: 'flex', justifyContent: 'flex-end' }}>\n                            {\n                                members.map(member => <Avatar\n                                    sx={{\n                                        width: 17,\n                                        height: 17\n                                    }}\n                                    key={member._id}\n                                    alt={member?.displayName}\n                                    src={member?.photoURL}\n                                />\n                                )\n                            }\n                        </AvatarGroup>\n\n                    </Box>\n\n                </Box>\n            }\n        </>\n\n    )\n}\n\nexport default Group;","import React, { useEffect, useState } from 'react';\nimport { Box, Skeleton, Typography } from '@mui/material';\nimport GroupsModal from './GroupsModal';\nimport { useAppDispatch, useAppSelector } from '../Redux/hooks';\nimport Group from './Group';\nimport './Groups.css';\nimport { getJoinedGroups } from '../Redux/counterSlice';\n\nconst Groups = ({ socket, handleAddRoomId }: any) => {\n\n    const [open, setOpen] = React.useState<boolean>(false);\n    const [myGroups, setMyGroups] = useState<any[]>([]);\n    const dispatch = useAppDispatch();\n    const { loginUser, allUsers, allGroups, groupsDataLoading } = useAppSelector(state => state?.data);\n    const currentUser = allUsers?.find(user => user?.uid === loginUser?.uid);\n\n\n    useEffect(() => {\n\n        if (!currentUser?.groups) return;\n    \n        const groups: any[] = [];\n    \n        for (let groupID of currentUser?.groups) {\n            const matchGroup = allGroups?.find(group => group.groupId === groupID);\n            groups.push(matchGroup);\n        };\n    \n        setMyGroups(groups);\n        dispatch(getJoinedGroups(groups));\n    }, [allGroups, currentUser?.groups, dispatch]);\n\n\n    useEffect(() => {\n        socket.current?.on('joinedgroup', function (data: any) {\n            setMyGroups(prev => [...prev, data])\n            console.log('joined',data)\n        });\n    }, [socket, dispatch])\n\n    const handleAddCreatedGroup = (data: any) => {\n        setMyGroups(prev => [...prev, data])\n    } \n\n    const handleOpen = () => setOpen(true);\n\n    const handleClose = () => setOpen(false);\n    \n    // stylesheet\n    const textStyle = {\n        mb: 2,\n        textAlign: 'center',\n        color: 'whitesmoke',\n        letterSpacing: 2,\n        fontSize: '1.5rem',\n    }\n\n\n    return (\n\n        <>\n                <button type='button' onClick={handleOpen} className='creatGroupBtn'>CREATE GROUP</button>\n\n\n            {\n                myGroups?.length !== 0 && !groupsDataLoading && <Box sx={{ height: 550, overflowY: 'scroll' }}>\n\n\n                    {\n                        myGroups.map((group: any) => <Group\n                            key={group?._id}\n                            group={group}\n                            mygroups={myGroups}\n                            socket={socket}\n                            handleAddRoomId={handleAddRoomId}\n                        />\n                        )\n                    }\n\n\n                </Box>\n            }\n\n            {\n                groupsDataLoading && <Box>\n\n                    {\n                        [...new Array(5)].map((ske, index) => <Skeleton\n                            sx={{ height: 90 }}\n                            key={index}\n                        />)\n                    }\n\n                </Box>\n            }\n\n            {\n                !groupsDataLoading && myGroups.length === 0 &&\n                <Typography sx={textStyle} variant=\"h5\">\n                    You've not joined any group yet.\n                </Typography>\n            }\n\n           \n\n\n            <GroupsModal\n                socket={socket}\n                open={open}\n                handleClose={handleClose}\n                handleAddCreatedGroup={handleAddCreatedGroup}\n            />\n        </>\n    )\n}\n\nexport default Groups;","import axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport { useAppDispatch, useAppSelector } from '../Redux/hooks';\nimport { Box, IconButton, CircularProgress, Avatar, Typography, ListItem } from '@mui/material';\nimport { IoMdSend } from 'react-icons/io';\nimport ScrollToBottom from \"react-scroll-to-bottom\";\nimport { MdCameraAlt } from 'react-icons/md';\nimport { useForm } from 'react-hook-form';\nimport { FacebookCircularProgress } from '../Loader/Loader';\nimport Message from '../Message/Message';\nimport { getGroupChat } from '../Redux/counterSlice';\nimport { ExpendMenu } from '../Chat/ExpendMenu';\nimport UserTypeing from '../UserTypeing/UserTypeing';\n\ntype Props = {\n    groupId: any,\n    socket: any,\n    openSidebar: number,\n    onlineUsers: string[]\n}\n\nconst GroupChat = (props: Props) => {\n\n    const { groupId, socket, openSidebar, onlineUsers } = props;\n    const { loginUser, selectedGroup, deleteTextLoading, allMessageDeleteLoading } = useAppSelector(state => state.data);\n    const [currentMessage, setCurrentMessage] = useState<any>('');\n    const [photoUrl, setPhotoUrl] = useState<string>('');\n    const [imgLoading, setImgLoading] = useState<Boolean>(false);\n    const { register, watch, setValue } = useForm();\n    const [messageList, setMessageList] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [typeingUser, setTypeingUser] = useState<any[]>([]);\n    const dispatch = useAppDispatch();\n\n    useEffect(() => {\n        setLoading(true);\n        axios.get(`http://localhost:8080/group/groupchat/${selectedGroup.groupId}`)\n            .then(res => {\n                setLoading(false);\n                dispatch(getGroupChat(res.data));\n                setMessageList(res.data);\n            });\n    }, [groupId, selectedGroup, allMessageDeleteLoading])\n\n\n    // message data\n    const senderMessageData = async () => {\n        const messageData = {\n            message: currentMessage,\n            image: loginUser.photoURL,\n            userId: loginUser.uid,\n            picture: photoUrl,\n            time: Date.now(),\n            roomId: groupId,\n            groupId: selectedGroup.groupId,\n\n        };\n        try {\n            await axios.post(`http://localhost:8080/chat`, messageData);\n            setPhotoUrl('');\n        } catch (err) {\n            console.error(err)\n        }\n\n        await socket.current.emit(\"send_message\", messageData);\n        setMessageList((list) => [...list, messageData]);\n        setPhotoUrl('');\n        setCurrentMessage(\"\");\n    };\n\n    // send message another people \n    const sendMessage = async () => {\n        if (photoUrl !== '' && currentMessage === '') {\n            senderMessageData();\n        };\n        if (currentMessage !== \"\" && photoUrl === '') {\n            senderMessageData();\n        };\n        if (currentMessage !== \"\" && photoUrl !== '') {\n            senderMessageData();\n        };\n    };\n\n\n    //image uploading\n    useEffect(() => {\n        const imgFile = watch('picFile');\n        if (imgFile?.length) {\n            let body = new FormData();\n            body.set('key', '18b523a65ed553a3bb7441153cbee867')\n            body.append('image', imgFile[0])\n            setImgLoading(true);\n            axios({\n                method: 'post',\n                url: 'https://api.imgbb.com/1/upload',\n                data: body\n            }).then(res => {\n                setPhotoUrl(res.data.data.url);\n                setValue('pic', res.data.data.url);\n            }).finally(() => setImgLoading(false))\n        }\n        else {\n        }\n\n    }, [watch('picFile')]);\n\n    useEffect(() => {\n        socket.current?.on(\"recive_message\", (data: any) => {\n\n\n            const upcomeingMessages: any[] = [...messageList, data];\n            setTypeingUser([]);\n            setMessageList(upcomeingMessages);\n            // setMessageList((list) => [...list, data]);\n        })\n    }, [socket, messageList])\n\n    // user typeing message function\n    const userData = { name: loginUser.displayName, photo: loginUser.photoURL, roomId: groupId, uid: loginUser.uid }\n\n    const userTypeing = async () => {\n        try {\n            await socket?.current.emit('typing', userData);\n        } catch (err: any) {\n            console.log(err.message);\n        }\n    };\n\n\n\n    useEffect(() => {\n        document?.getElementById(\"message_field\")?.addEventListener('focusout', () => {\n            socket?.current.emit('typing', {});\n        })\n        socket?.current?.on('typing', function (data: any) {\n            setTypeingUser([...typeingUser, data]);\n        })\n        socket?.current?.on(\"deleteMessage\", function (data: any) {\n            const filterMessages = messageList?.filter(message => message._id !== data._id);\n            setMessageList(filterMessages);\n        })\n        if (currentMessage === '') {\n            socket?.current?.emit('typing', {});\n        }\n    }, [socket, messageList])\n\n\n    // stylesheet\n    const textArea = {\n        width: '100%',\n        height: 60,\n        background: \"#4E426D\",\n        borderRadius: 10,\n        marginBottom: 5,\n        color:'white',\n        padding:'10px'\n    };\n\n\n\n    return (\n\n        <>\n\n            <Box sx={{\n                boxShadow: 0,\n                width: \"100%\",\n                background: \"#4E426D\",\n                ml: { xs: 0, md: 4 },\n                mt: { xs: 0, md: 4 },\n                mb: 0,\n                p: 1.3,\n                display: { xs: 'block', md: 'flex' },\n                justifyContent: 'space-between'\n            }}>\n\n                <Box sx={{ display: 'flex', gap: 2 }}>\n                    <Avatar alt=\"userimage\" src={selectedGroup.coverPhoto} />\n                    <span>\n                        <Typography sx={{ fontSize: 15, color: \"#fff\" }} variant=\"h6\">{selectedGroup.groupName}</Typography>\n                        <small style={{ color: \"#ddd6d6\" }}></small>\n                    </span>\n                </Box>\n\n\n                <Box sx={{ mt: 0.5 }}>\n                    <ExpendMenu\n                        openSidebar={openSidebar}\n                        group={true}\n                        onlineUsers={onlineUsers}\n                    />\n                </Box>\n\n\n            </Box>\n\n\n            {/* messages  */}\n\n            <Box sx={{ p: 4 }}>\n\n                {\n                    loading && <Box sx={{\n                        display: 'flex',\n                        justifyContent: 'center',\n                        alignItems: 'center',\n                        height: '485px'\n                    }}>\n                        <FacebookCircularProgress />\n                    </Box>\n                }\n\n                <Box className=\"message_container\" sx={{ height: { xs: '30rem', md: '34rem',lg: 400, xl: 550 } }}>\n\n\n                    {\n                        messageList?.length === 0 && !loading && <Box sx={{ mt: 5 }}>\n\n                            <Avatar alt=\"userimage\" sx={{ height: 80, width: 80, m: '0 auto' }} src={selectedGroup.coverPhoto} />\n\n                            <Typography sx={{ textAlign: 'center', color: 'whitesmoke' }} variant=\"h6\">{selectedGroup.groupName}</Typography>\n\n                        </Box>\n                    }\n\n\n                    {\n                        !loading && <ScrollToBottom>\n                            {\n                                messageList.map((messageContent) => <Message\n                                    messageContent={messageContent}\n                                    user={loginUser}\n                                    key={messageContent._id}\n                                />)\n                            }\n                        </ScrollToBottom>\n                    }\n                </Box>\n\n\n            </Box>\n\n            {/* typeing user */}\n            <Box>\n                {\n                    typeingUser?.map((user: any) => <Box>\n                        {\n                            user?.name && groupId === user?.roomId && <Box id=\"typeing_user\">\n\n                                <ListItem id=\"list_item\">\n\n                                    <Avatar sx={{ width: 18, height: 18 }} src={user?.photo} alt={user?.name} />\n\n                                    <Typography sx={{ color: '#fff' }} variant='caption'>{user?.name} is typeing...</Typography>\n\n                                </ListItem>\n\n                            </Box>\n                        }\n                    </Box>)\n                }\n            </Box>\n\n\n            {/* send message section */}\n            {!loading &&\n\n                <Box sx={{ p: 4, mb: 3.5 }} id=\"bottom_nav\">\n\n                    {\n                        photoUrl !== '' &&\n                        <Box sx={{ position: 'absolute', bottom: 140 }}>\n                            <Avatar sx={{ width: 150, height: 100, borderRadius: 2, boxShadow: 2 }} alt=\"yourselectpicture\" src={photoUrl} />\n                        </Box>\n                    }\n\n                    <textarea\n                        onKeyPress={userTypeing}\n                        onChange={(e) => setCurrentMessage(e.target.value)}\n                        placeholder='Enter a Message'\n                        value={currentMessage}\n                        id=\"message_field\"\n                        style={textArea}\n                    />\n\n\n                    <Box sx={{ mt: 0, float: \"right\" }}>\n\n                        <label htmlFor=\"icon-button-file\">\n\n                            {/* <label htmlFor=\"files\" ></label> */}\n                            <input\n                                style={{ display: 'none' }}\n                                id=\"icon-button-file\"\n                                accept='image/*'\n                                {...register(\"picFile\")}\n                                type=\"file\"\n                            />\n\n                            <IconButton sx={{ background: \"#4E426D\", color: \"#fff\", fontSize: 18 }} aria-label=\"upload picture\" component=\"span\">\n                                <MdCameraAlt />\n                            </IconButton>\n                        </label>\n                        {\n                            !imgLoading ?\n                                <IconButton onClick={sendMessage} sx={{ background: \"#4E426D\", color: \"#fff\", fontSize: 14, ml: 3, '&:hover': { background: \"#4E426D\" } }} >\n                                    <IoMdSend />\n                                </IconButton>\n                                :\n                                <IconButton sx={{ background: \"#4E426D\", color: \"#fff\", ml: 3, '&:hover': { background: \"#4E426D\" } }} >\n                                    <CircularProgress size={14} sx={{ color: \"#fff\" }} />\n                                </IconButton>\n\n                        }\n                    </Box>\n\n                </Box>\n\n            }\n        </>\n    )\n}\n\nexport default GroupChat","import React, { useEffect, useRef, useState } from 'react';\nimport { Avatar, Box, Button, Skeleton, Typography } from '@mui/material';\nimport axios from 'axios';\nimport { useFirebase } from '../hooks/useFirebase';\nimport { useAppDispatch, useAppSelector } from '../Redux/hooks';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport { TransitionGroup } from 'react-transition-group';\nimport { getAllUsers } from '../Redux/counterSlice';\n\nconst AddContracts = ({ socket }: any) => {\n\n    const { allUsers, usersDataLoading, searchText, loginUser } = useAppSelector(state => state.data);\n    const [loading, setLoading] = useState<Boolean>(false);\n    const [loadUser, setLoadUser] = useState<Boolean>(false);\n    const [selectedUID, setSelectedUID] = useState<any>('');\n    // const [isAdd, setIsAdd] = useState<any[]>([]);\n    const dispatch = useAppDispatch();\n\n    const currentUser = allUsers.find(current => current.uid === loginUser?.uid);\n\n\n    // add contact user function\n    const addContract = (selectUser: any) => {\n        setLoading(true);\n        axios.post(`http://localhost:8080/users/addcontract/${loginUser?.uid}`, { uid: selectUser.uid }).then(res => {\n            socket?.current?.emit('addedUser', { userId: loginUser?.uid });\n            setLoading(false);\n            setLoadUser(true);\n            dispatch(getAllUsers());\n        });\n    };\n\n    const handleAddContract = (user: any) => {\n        setSelectedUID(user.uid);\n        addContract(user);\n    };\n\n\n    let contactsUsers: any[] = allUsers.filter(user => user?.uid !== currentUser?.uid);\n\n\n    // match user by serach name\n    const matchUsers = contactsUsers.filter(user => user?.displayName?.toLowerCase()?.includes(searchText?.toLowerCase()));\n\n\n    // stylesheet\n    const btnStyle = {\n        borderColor: \"#fff\",\n        color: \"#fff\",\n        '&:hover': {\n            borderColor: \"#fff\",\n        }\n    };\n\n    const box = {\n        display: 'flex',\n        alignItems: 'center',\n        mb: 2,\n        p: 1,\n        borderRadius: 2,\n        justifyContent: 'space-between',\n        borderBottom: '2px solid #5C4F81',\n        mr: 2\n    };\n\n    let isAdd: any;\n\n    const textStyle = {\n        mb: 2,\n        textAlign: 'center',\n        color: 'whitesmoke',\n        letterSpacing: 2,\n        fontSize: '1.5rem',\n    }\n\n    return (\n\n        <>\n\n            {\n                usersDataLoading && contactsUsers.length === 0 && <Box>\n                    {\n                        [...new Array(5)].map((ske, index) => <Skeleton\n                            sx={{ height: 80 }}\n                        />)\n                    }\n\n                </Box>\n            }\n            {\n                !usersDataLoading && contactsUsers.length === 0 && <Box>\n                <Typography sx={textStyle} variant=\"h5\">\n                    No users.\n                </Typography>\n\n                </Box>\n            }\n\n            {\n                matchUsers.map((user, index) => <Box\n                    key={user._id}\n                    sx={box}>\n\n                    <small style={{ display: \"none\" }}>\n                        {\n                            isAdd = currentUser?.contracts?.find((contract: any) => contract === user?.uid)\n                        }\n                    </small>\n\n\n                    <br />\n\n                    <Avatar\n                        alt=\"user photo\"\n                        sx={{\n                            width: 45,\n                            height: 45,\n\n                        }}\n                        src={user.photoURL}\n                    />\n\n                    <span>\n\n\n                        <Typography variant='h6' sx={{ fontSize: 16, color: \"#fff\" }}>\n                            {user.displayName}\n                        </Typography>\n\n                        <Typography variant='h6' sx={{ fontSize: 11, color: '#9881d6' }}>\n                            {user.email}\n                        </Typography>\n\n                    </span>\n\n                    {\n                        loading && selectedUID === user?.uid ?\n                            <LoadingButton loading variant=\"outlined\">\n                                Submit\n                            </LoadingButton>\n                            :\n                            <span>\n                                {\n                                    isAdd !== user?.uid ?\n                                        <Button\n                                            sx={btnStyle}\n                                            variant='outlined'\n                                            onClick={() => handleAddContract(user)}>\n                                            ADD+\n                                        </Button>\n                                        :\n                                        <Button sx={btnStyle} disabled variant='outlined' >\n                                            ADDED\n                                        </Button>\n                                }\n\n\n                            </span>\n                    }\n                </Box>\n\n                )\n            }\n\n        </>\n    )\n}\n\nexport default AddContracts;","import { Avatar, Box, IconButton, Typography } from '@mui/material'\nimport React from 'react'\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport { BiMenuAltRight } from 'react-icons/bi';\nimport { useAppSelector } from '../Redux/hooks';\nimport { useFirebase } from '../hooks/useFirebase';\nimport SignalWifiStatusbarConnectedNoInternet4Icon from '@mui/icons-material/SignalWifiStatusbarConnectedNoInternet4';\n\nexport const Navigation = () => {\n\n    const { loginUser } = useAppSelector(state => state.data);\n    const { logOut } = useFirebase();\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n    const open = Boolean(anchorEl);\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    // style sheet\n    const menuList = {\n        display: 'flex',\n        justifyContent: 'center'\n    };\n\n    const disconnectBox = {\n        display: 'flex',\n        alignItems: 'center',\n        boxShadow: 2,\n        width: 120,\n        borderRadius: 5,\n        pl: 1,\n        color: \"white\",\n        background: 'red',\n    };\n\n    return (\n\n        <>\n\n            <Box>\n\n                <IconButton id=\"basic-button\"\n                    sx={{ float: 'right', background: \"#5C4F81\", color: 'white', m: 1 }}\n                    aria-controls={open ? 'basic-menu' : undefined}\n                    aria-haspopup=\"true\"\n                    aria-expanded={open ? 'true' : undefined}\n                    onClick={handleClick}>\n                    <BiMenuAltRight />\n                </IconButton>\n\n                <Box>\n\n                    {\n                        !window.navigator.onLine && <Box sx={disconnectBox}>\n                            <SignalWifiStatusbarConnectedNoInternet4Icon sx={{ fontSize: 16 }} />\n                            <Typography variant='caption'>You're offline</Typography>\n                        </Box>\n                    }\n\n                </Box>\n\n\n            </Box>\n\n            <Menu\n                sx={{\n                    \"& .MuiPaper-root\": {\n                        backgroundColor: \"#5C4F81\",\n                        color: \"#fff\",\n\n                    }\n                }}\n                id=\"basic-menu\"\n                anchorEl={anchorEl}\n                open={open}\n                onClose={handleClose}\n                MenuListProps={{\n                    'aria-labelledby': 'basic-button',\n                }}\n            >\n                <MenuItem sx={{ display: 'flex', justifyContent: 'center' }}>\n                    <Avatar src={loginUser?.photoURL} alt=\"\" />\n                </MenuItem>\n                <MenuItem sx={menuList}>{loginUser?.displayName}</MenuItem>\n                <MenuItem sx={menuList}>{loginUser?.email}</MenuItem>\n                <MenuItem onClick={logOut} sx={menuList} style={{ background: '#463a63' }}>Log out</MenuItem>\n            </Menu>\n\n        </>\n\n    )\n}","import React, { useEffect, useRef, useState } from 'react';\nimport { BiConversation } from 'react-icons/bi';\nimport { IoPersonAddOutline } from 'react-icons/io5';\nimport { MdOutlineGroupAdd } from 'react-icons/md';\nimport { FiSettings } from 'react-icons/fi';\nimport io from 'socket.io-client';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Fade,\n  Grid,\n  Typography,\n  Drawer,\n} from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Covertation from '../../components/Convertation/Convertation';\nimport Chat from '../../components/Chat/Chat';\nimport Groups from '../../components/Groups/Groups';\nimport GroupChat from '../../components/GroupChat/GroupChat';\nimport UserDetails from '../../components/UserDetails/UserDetails';\nimport AddContracts from '../../components/AddContracts/AddContracts';\nimport GroupDetails from '../../components/GroupDetails/GroupDetails';\nimport '../../App.css';\nimport { Navigation } from '../../components/Navigation/Navigation';\nimport {\n  getAllMessages,\n  saveSearchName,\n  selectUser\n} from '../../components/Redux/counterSlice';\nimport {\n  useAppDispatch,\n  useAppSelector\n} from '../../components/Redux/hooks';\n\nconst drawerWidth = { xs: '80%', sm: '60%', md: 350 };\n\nfunction Home() {\n  const {\n    convertationUsers,\n    joinedGroups,\n    selectedUser,\n    loginUser,\n    openDetailsSection,\n    usersDataLoading\n  } = useAppSelector(state => state.data);\n  const dispatch = useAppDispatch();\n  const [activeNum, setActiveNum] = useState(1);\n  const socketClient:any = useRef();\n  const [groupId, setGroupId] = useState(0);\n  const [roomId, setRoomId] = useState<any>();\n  const [openSidebar, setOpenSidebar] = useState(1);\n  const navigate = useNavigate();\n  const [openDrawer, setOpenDrawer] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [onlineUsers, setOnlineUsers] = useState<string[]>([]);\n\n  useEffect(() => {\n    const connectSocket = async () => {\n        try {\n        setIsLoading(true);\n        \n        socketClient.current = io.connect(\"http://localhost:8080\");\n        socketClient.current.removeAllListeners();\n        socketClient.current.emit(\"user_connected\", loginUser.uid)\n\n        handleUpdateUserStatus(socketClient)\n      } catch (error) {\n        console.error(\"Error connecting to socket:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    connectSocket();\n\n  }, [loginUser.uid]);\n\n  \n \n\n  if (Object.keys(selectedUser).length === 0) {\n    for (const converUser of convertationUsers) {\n      dispatch(selectUser(converUser));\n    }\n  }\n\n  useEffect(() => {\n    if (activeNum === 3) {\n      return;\n    } else {\n      const id: number = parseFloat(loginUser.createdAt) + parseFloat(selectedUser.createdAt);\n      if (isNaN(roomId) === true) {\n        setRoomId(id);\n      } else {\n        setRoomId(id);\n        dispatch(getAllMessages(id));\n        if (id === roomId) {\n          socketClient.current.emit('join_room', roomId);\n        }\n      }\n    }\n  }, [selectedUser, roomId, socketClient.current]);\n\n  function handleUpdateUserStatus(socketClient:any) {\n    const checkStatusAndHandle = () => {\n        if (!isLoading) {\n            socketClient.current.on('updateUserStatus', (data:any) => {\n                const onlineUserIds = Object.keys(data);\n                console.log('onlineUserIds', onlineUserIds);\n                setOnlineUsers(onlineUserIds);\n                // Recursive call\n                handleUpdateUserStatus(socketClient);\n            });\n        } else {\n            setTimeout(checkStatusAndHandle, 1000); // Check again after 1 second\n        }\n    };\n\n    checkStatusAndHandle();\n}\n\n\n  const handleAddRoomId = (id: any) => {\n    setGroupId(id);\n  };\n\n  const addConverationRoute = () => {\n    setActiveNum(2);\n  };\n\n  const handleSetActiveNav = () => {\n    handleDrawerOpen();\n    setOpenSidebar(11);\n  };\n\n  const selectChatBox = () => {\n    setActiveNum(1);\n    setOpenSidebar(10);\n  };\n\n  const handleDrawerOpen = () => {\n    setOpenDrawer(true);\n    setOpenSidebar(10);\n  };\n\n  const handleDrawerClose = () => {\n    setOpenDrawer(false);\n  };\n\n  const iconsContainer = {\n    width: '100%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between ',\n    mt: 1,\n    mb: 4,\n    background: \"#5C4F81\"\n  };\n\n  if (isLoading) return <h1>Loading..</h1>;\n\n  return (\n    <>\n      <Drawer\n        sx={{\n          width: drawerWidth,\n          flexShrink: 0,\n          '& .MuiDrawer-paper': {\n            width: drawerWidth,\n            background: '#4E426D'\n          },\n          display: { xs: 'block', lg: 'none' }\n        }}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={openDrawer}\n      >\n        <CloseIcon\n          onClick={handleDrawerClose}\n          sx={{\n            mt: 3,\n            color: \"#fff\",\n            ml: 1\n          }}\n        />\n\n        {openSidebar === 10 && <AddContracts socket={socketClient} />}\n        {openSidebar === 11 && <Groups socket={socketClient} handleAddRoomId={handleAddRoomId} />}\n      </Drawer>\n\n      <Grid container id=\"home\">\n        <Grid item xs={3} md={4} lg={3} xl={2.5} id=\"sidebar\">\n          <Navigation />\n          <Box sx={{ px: 2, pb: 1 }}>\n            <input\n              onChange={e => dispatch(saveSearchName(e.target.value))}\n              placeholder='Search People for Messages'\n              className='search_input'\n              type=\"search\"\n            />\n          </Box>\n          <Box sx={iconsContainer}>\n            <span onClick={() => { setActiveNum(1); setOpenSidebar(10); }} className={activeNum === 1 ? 'page_active' : 'top_nav'}>\n              <BiConversation />\n            </span>\n            <span id=\"mobile_icon\" onClick={handleDrawerOpen} className='top_nav'><IoPersonAddOutline /></span>\n            <span id=\"mobile_icon\" onClick={handleSetActiveNav} className='top_nav'><MdOutlineGroupAdd /></span>\n            <span id=\"visible_icon\" onClick={() => setActiveNum(2)} className={activeNum === 2 ? 'page_active' : 'top_nav'}>\n              <IoPersonAddOutline />\n            </span>\n            <span id=\"visible_icon\" onClick={() => setActiveNum(3)} className={activeNum === 3 ? 'page_active' : 'top_nav'}>\n              <MdOutlineGroupAdd />\n            </span>\n            <span className=\"top_nav\">\n              <FiSettings onClick={() => navigate(`/setting/${loginUser.uid}`)} />\n            </span>\n          </Box>\n          {(activeNum === 1 && !isLoading) && <Covertation\n            selectChatBox={selectChatBox}\n            handleDrawerOpen={handleDrawerOpen}\n            addConverationRoute={addConverationRoute}\n            socket={socketClient}\n            roomId={roomId}\n            onlineUsers={onlineUsers}\n            uid={selectedUser?.uid}\n          />}\n          {activeNum === 2 && <AddContracts socket={socketClient} />}\n          {activeNum === 3 && <Groups socket={socketClient} handleAddRoomId={handleAddRoomId} />}\n        </Grid>\n\n        {(convertationUsers?.length === 0 && activeNum !== 3) &&\n  <Grid item xs={9} md={8} lg={9} xl={9.5} sx={{ backgroundColor: \"#5C4F81\", width: '100vh', transition: '1s', height: '100vh' }}>\n    {!usersDataLoading &&\n      <Typography id=\"emptyContactText\" variant='h5'>Your contact list is empty. Please add people to start chatting. Happy chatting!</Typography>\n    }\n  </Grid>\n}\n\n  \n      {(joinedGroups?.length === 0 && activeNum === 3 && !usersDataLoading) &&\n        <Grid item xs={9} md={8} lg={9} xl={9.5} sx={{ backgroundColor: \"#5C4F81\", width: '100%', transition: '1s', height: '100vh' }}>\n          {!usersDataLoading &&\n            <Typography id=\"emptyGroupText\" variant='h5'>You have not joined any group yet. Create a group or wait for someone to invite you to join.</Typography>\n          }\n        </Grid>\n      }\n  \n      {(convertationUsers?.length === 0 && joinedGroups.length !== 0 && !usersDataLoading) &&\n        <Grid item xs={9} md={8} lg={openDetailsSection ? 6 : 9} xl={!openDetailsSection ? 9.5 : 7} sx={{ backgroundColor: \"#5C4F81\", width: '100%', transition: '1s' }}>\n          {activeNum === 3 &&\n            <GroupChat onlineUsers={onlineUsers} groupId={groupId} socket={socketClient} openSidebar={openSidebar} />\n          }\n        </Grid>\n      }\n  \n      {(convertationUsers?.length > 0) &&\n        <Grid item xs={9} md={8} lg={openDetailsSection ? 6 : 9} xl={!openDetailsSection ? 9.5 : 7} sx={{ backgroundColor: \"#5C4F81\", width: '100%', transition: '1s' }}>\n          {activeNum !== 3 && openSidebar !== 11 &&\n            <Chat socket={socketClient} onlineUsers={onlineUsers} selectedUser={selectedUser} roomId={roomId} />\n          }\n          {(activeNum === 3 || openSidebar === 11) &&\n            <GroupChat groupId={groupId} onlineUsers={onlineUsers} socket={socketClient} openSidebar={openSidebar} />\n          }\n        </Grid>\n      }\n  \n      {openDetailsSection && convertationUsers.length > 0 && !usersDataLoading &&\n        <Fade in={openDetailsSection}>\n          <Grid item md={3} xs={6} lg={3} xl={2.5} sx={{ background: \"#4E426D\", display: { xs: 'none', lg: 'block' } }}>\n            {activeNum !== 3 &&\n              <UserDetails user={selectedUser} />\n            }\n            {activeNum === 3 &&\n              <GroupDetails onlineUsers={onlineUsers} />\n            }\n          </Grid>\n        </Fade>\n      }\n  \n      {(convertationUsers?.length === 0 && joinedGroups.length !== 0 && !usersDataLoading) &&\n        <Fade in={openDetailsSection}>\n          <Grid item md={3} xs={6} lg={3} xl={2.5} sx={{ background: \"#4E426D\", display: { xs: 'none', lg: 'block' } }}>\n            {activeNum === 3 &&\n              <GroupDetails onlineUsers={onlineUsers} />\n            }\n          </Grid>\n        </Fade>\n      }\n    </Grid>\n  </>\n  );\n  }\n  \n  export default Home;\n  ","import React, { useRef, useState } from 'react'\nimport { Box, Button, Paper, Snackbar, Typography } from '@mui/material'\nimport { FcGoogle } from 'react-icons/fc';\nimport { IoChatboxEllipsesOutline } from 'react-icons/io5';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useFirebase } from '../../components/hooks/useFirebase'\nimport '../../App.css'\n \n\nconst Login = () => {\n\n    const { handleGoogleSign, signUpWithEmail, processing, logInWithEmail, error} = useFirebase();\n    const location = useLocation();\n    const [registerStatus, setRegister] = useState<boolean>(false);\n    const nameRef = useRef<any>(null);\n    const emailRef = useRef<any>(null);\n    const navigate = useNavigate();\n    const passwordRef = useRef<any>(null);\n    \n    // google sign\n    const googleSign = () => {\n        handleGoogleSign(location);\n    };\n\n    // register and login function\n    const handleAccountSign = (e: any) => {\n        if (registerStatus) {\n            signUpWithEmail(nameRef?.current?.value, emailRef?.current?.value, passwordRef?.current?.value);\n        } else if (!registerStatus) {\n            logInWithEmail(emailRef?.current?.value, passwordRef?.current?.value);\n        }\n        e.preventDefault();\n    }\n\n\n    // sstyle sheet\n    const googleButton = {\n        borderColor: '#453A61',\n        p: 1,\n        py: 1.5,\n        fontSize: 17,\n        '&:hover': {\n            borderColor: '#453A61',\n        },\n        margin: '0 auto'\n    }\n\n    return (\n\n        <Box\n            sx={{\n                width: '100%',\n                height: '100vh',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                backgroundImage: 'linear-gradient(to right, #4E426D, #3b3153)'\n            }}\n        >\n\n\n            <Paper elevation={3} sx={{ width: { xs: 300, md: 350 }, p: 3, background: \"#5C4F81\" }} className='login_form'>\n\n                <Box className='logo_container'>\n                    <span className='logo'>\n                        <IoChatboxEllipsesOutline className='icon' />\n                    </span>\n                </Box>\n\n                <Typography variant='h6'>\n                    {\n                        registerStatus ? 'Sign Up' : 'LOGIN'\n                    }\n                </Typography>\n\n                <form onSubmit={handleAccountSign}>\n\n\n                    {registerStatus && <input ref={nameRef} required placeholder='Name' type=\"text\" />}\n\n                    <input ref={emailRef} required placeholder='Email' type=\"email\" />\n\n                    <input ref={passwordRef} required placeholder='Password' type=\"password\" />\n\n                    {\n                        !registerStatus && <span\n                            onClick={() => navigate('/reseatpass')}\n                            className='login_link'\n                        >\n                            Forget password ?\n                        </span>\n                    }\n\n                    {\n                        processing ?\n                            <button id='login_button' type=\"submit\">\n                                Loading...\n                            </button>\n                            :\n                            <button id='login_button' type=\"submit\">\n                                {\n                                    registerStatus ? 'REGISTER' : 'LOGIN'\n                                }\n                            </button>\n                    }\n\n\n\n\n\n                </form>\n\n                {!registerStatus &&\n                    <span className='login_link' onClick={() => setRegister(true)}>Create an account ?</span>}\n\n                {registerStatus && <span className='login_link' onClick={() => setRegister(false)}>Have an account ? Login </span>\n                }\n\n                <span style={{ display: \"flex\", justifyContent: 'center' }}>\n                    <Button onClick={googleSign} variant='outlined' sx={googleButton}>\n                        <FcGoogle />\n                    </Button>\n                </span>\n\n            </Paper>\n\n            <Snackbar\n    open={Boolean(error)}\n  autoHideDuration={5000}\n  message={error}\n/>\n        </Box>\n\n    )\n}\n\nexport default Login;","import { CircularProgress, Skeleton, Typography } from '@mui/material';\nimport React from 'react';\nimport { Navigate, useLocation } from 'react-router';\nimport { useFirebase } from '../hooks/useFirebase';\nimport { useAppSelector } from '../Redux/hooks';\n\nconst PrivateRoute = ({ children }: any) => {\n\n    const { user, loading } = useFirebase();\n    const { loginUser } = useAppSelector(state => state.data);\n    let location = useLocation();\n\n    if (loading) {\n        return <Skeleton\n            animation=\"wave\"\n            variant=\"rectangular\"\n            sx={{\n                width: '100vw',\n                height: '100vh'\n            }}\n        />\n\n    };\n\n    if (!loginUser.uid) {\n        return <Navigate to=\"/login\" state={{ from: location }} />;\n    };\n\n    return (\n        <>\n            {children}\n        </>\n    );\n};\n\nexport default PrivateRoute;","import { Button, TextField } from '@mui/material';\nimport React, { useRef } from 'react'\nimport { ImCross } from 'react-icons/im';\nimport { useFirebase } from '../hooks/useFirebase';\nimport { updateUserAddress, updateUserName, updateUserNumber, updateUserProfession } from '../Redux/counterSlice';\nimport { useAppDispatch, useAppSelector } from '../Redux/hooks';\n\nconst ContractInfo = ({ user }: any) => {\n\n    const { updatePhotoAndName } = useFirebase();\n    const nameRef = useRef<any>(null);\n    const numberRef = useRef<any>(null);\n    const addressRef = useRef<any>(null);\n    const workRef = useRef<any>(null);\n    const { loginUser, updateUserInfo } = useAppSelector(state => state.data);\n    const dispatch = useAppDispatch();\n\n\n\n\n\n    // update function\n    const updateFunction = () => {\n        const updatedName = nameRef.current.value;\n        if (updatedName === loginUser.displayName) return;\n        const data = { uid: user.uid, name: updatedName };\n        dispatch(updateUserName(data));\n        updatePhotoAndName(updatedName, loginUser.photoURL);\n    };\n\n    // updateMobile\n    const updateMobile = () => {\n        const data = { uid: user.uid, phone: numberRef.current.value };\n        dispatch(updateUserNumber(data));\n    };\n\n    // updateMobile\n    const updateAddress = () => {\n        const data = { uid: user.uid, adress: addressRef.current.value };\n        dispatch(updateUserAddress(data));\n    };\n\n    // update profession\n    const updateProfession = () => {\n        const data = { uid: user.uid, profession: workRef.current.value };\n        dispatch(updateUserProfession(data))\n    }\n\n\n    // style sheet\n    const buttonStyle = {\n        borderColor: \"#beb8b8\",\n        color: \"whitesmoke\",\n        '&:hover': {\n            borderColor: \"#beb8b8\",\n        }\n    };\n\n    return (\n\n        <>\n\n            <span style={{ display: 'flex', marginBottom: 30 }}>\n                <input\n                    className='setting_input'\n                    type=\"text\"\n                    ref={nameRef}\n                    defaultValue={user?.displayName}\n                />\n\n                <Button\n                    onClick={updateFunction}\n                    variant='outlined'\n                    sx={buttonStyle}>\n                    SAVE\n                </Button>\n\n\n\n            </span>\n\n            <span style={{ display: 'flex', marginBottom: 30 }}>\n                <input\n                    placeholder='Phone number'\n                    className='setting_input'\n                    type=\"number\"\n                    ref={numberRef}\n                    defaultValue={user?.phone}\n                />\n\n                <Button\n                    onClick={updateMobile}\n                    variant='outlined'\n                    sx={buttonStyle}>\n                    SAVE\n                </Button>\n\n            </span>\n\n            <span style={{ display: 'flex', marginBottom: 30 }}>\n\n                <input\n                    ref={workRef}\n                    placeholder='Your profession'\n                    className='setting_input'\n                    type=\"text\"\n                    defaultValue={user?.profession}\n                />\n\n                <Button\n                    onClick={updateProfession}\n                    variant='outlined'\n                    sx={buttonStyle}>\n                    SAVE\n                </Button>\n\n            </span>\n\n            <span style={{ display: 'flex', marginBottom: 30 }}>\n\n                <input\n                    placeholder='Your address'\n                    ref={addressRef}\n                    className='setting_input'\n                    type=\"text\"\n                    defaultValue={user?.adress}\n                />\n\n                <Button\n                    onClick={updateAddress}\n                    variant='outlined'\n                    sx={buttonStyle}>\n                    SAVE\n                </Button>\n\n            </span>\n\n            <span style={{ display: 'flex', marginBottom: 0 }}>\n                <input\n                    className='setting_input'\n                    type=\"text\"\n                    disabled\n                    defaultValue={user?.email}\n                />\n                <Button variant='outlined' disabled><ImCross /></Button>\n            </span>\n\n\n\n\n        </>\n    )\n}\n\nexport default ContractInfo;","import { Avatar, Box, Button, Pagination, Typography } from '@mui/material';\nimport React, { useEffect, useState } from 'react'\nimport ScrollToBottom from \"react-scroll-to-bottom\";\nimport { getJoinedGroups } from '../Redux/counterSlice';\nimport { useAppDispatch, useAppSelector } from '../Redux/hooks'\n\n\nexport const JoinedGroups = () => {\n\n\n    const groups: any[] = [];\n    const { loginUser, allUsers, allGroups, groupsDataLoading, joinedGroups } = useAppSelector(state => state?.data);\n    const currentUser = allUsers?.find(user => user?.uid === loginUser?.uid);\n    const dispatch = useAppDispatch();\n\n\n\n    // stylesheet\n    const buttonStyle = {\n        color: \"whitesmoke\",\n        borderColor: 'whitesmoke',\n        '&:hover': {\n            borderColor: '#5C4F81'\n        }\n    };\n\n\n\n    return (\n\n        <Box sx={{ height: 370, overflowY: 'scroll' }}>\n\n            <ScrollToBottom>\n                {\n                    joinedGroups?.map(group => <Box sx={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'space-between',\n                        mb: 2,\n                        background: '#4E426D',\n                        p: 1,\n                        borderRadius: 1\n                    }}\n                        key={group._id}\n                    >\n                        <Avatar\n                            src={group?.coverPhoto}\n                            alt={group?.groupName}\n                            sx={{ borderRadius: 1 }}\n                        />\n\n                        <Typography variant='body1'>{group?.groupName}</Typography>\n\n                        <Button variant='outlined' sx={buttonStyle}>LEAVE</Button>\n\n\n                    </Box>\n\n                    )\n                }\n            </ScrollToBottom>\n\n        </Box>\n\n    )\n}","import { Avatar, Box, Button, Typography } from '@mui/material';\nimport React from 'react'\nimport ScrollToBottom from 'react-scroll-to-bottom';\nimport { useAppSelector } from '../Redux/hooks'\n\n\nconst MyContacts = () => {\n\n    const { convertationUsers } = useAppSelector(state => state.data);\n\n    // stylesheet\n    const buttonStyle = {\n        color: \"whitesmoke\",\n        borderColor: 'whitesmoke',\n        '&:hover': {\n            borderColor: '#5C4F81'\n        }\n    };\n\n    return (\n\n        <Box sx={{ height: 370, overflowY: 'scroll' }}>\n\n            <ScrollToBottom>\n\n                {\n                    convertationUsers.map(user => <Box sx={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'space-between',\n                        mb: 2,\n                        background: '#4E426D',\n                        p: 1,\n                        borderRadius: 4\n                    }}\n                        key={user._id}\n                    >\n\n                        <Avatar\n                            src={user?.photoURL}\n                            alt={user?.displayName}\n                        />\n\n                        <Typography variant='body1'>{user?.displayName}</Typography>\n\n                        <Button variant='outlined' sx={buttonStyle}>REMOVE FROM CONTACT</Button>\n\n                    </Box>\n                    )\n                }\n            </ScrollToBottom>\n        </Box>\n\n    )\n}\nexport default MyContacts;","import { Alert, Avatar, Box, Button, Container, Grid, IconButton, Input, Skeleton, Tab, Tabs, Typography } from '@mui/material'\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport ContractInfo from '../../components/Setting/ContractInfo';\nimport { JoinedGroups } from '../../components/Setting/JoinedGroups';\nimport MyContacts from '../../components/Setting/MyContacts';\nimport PhotoCamera from '@mui/icons-material/PhotoCamera';\nimport { useAppDispatch, useAppSelector } from '../../components/Redux/hooks';\nimport { currentLoginUser, gellAllGroups, getJoinedGroups, myConvertations } from '../../components/Redux/counterSlice';\nimport { useFirebase } from '../../components/hooks/useFirebase';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { styled } from '@mui/material/styles';\nimport { useForm } from 'react-hook-form';\nimport { useParams } from 'react-router-dom';\nimport Modal from '@mui/material/Modal';\nimport EditIcon from '@mui/icons-material/Edit';\nimport '../../App.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\n\n\nconst style = {\n    position: 'absolute' as 'absolute',\n    top: '15%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: 400,\n    bgcolor: '#5C4F81',\n    boxShadow: 24,\n    p: 3,\n};\n\ninterface TabPanelProps {\n    children?: React.ReactNode;\n    index: number;\n    value: number;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`vertical-tabpanel-${index}`}\n            aria-labelledby={`vertical-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box sx={{ p: 3 }}>\n                    <Typography>{children}</Typography>\n                </Box>\n            )}\n        </div>\n    );\n}\n\n\nexport default function UserSetting() {\n\n    const [matchUser, setUser] = useState<any>({});\n    const [value, setValue] = React.useState<any>(0);\n    const groups: any[] = [];\n    const { userId } = useParams();\n    const { register, watch, } = useForm();\n    const [loading, setLoading] = useState<boolean>(true);\n    const { user, updatePhotoAndName } = useFirebase();\n    const [imgLoading, setImgLoading] = useState<boolean>(false);\n    const [photoUrl, setPhotoUrl] = useState<string>('');\n    const { loginUser, allUsers, allGroups, groupsDataLoading, updateUserInfo } = useAppSelector(state => state?.data);\n    const currentUser = allUsers?.find(user => user?.uid === loginUser?.uid);\n    const dispatch = useAppDispatch();\n    const [profileUpdateings, setProfileUpdateing] = useState<boolean>(false);\n    const [openModal, setOpenModal] = React.useState(false);\n\n    // open and close modal\n    const handleOpenModal = () => setOpenModal(true);\n    const handleCloseModal = () => {\n        setOpenModal(false);\n        setTimeout(() => setPhotoUrl(''), 1000)\n    };\n\n    // tab\n    const handleChange = (event: React.SyntheticEvent, newValue: number) => {\n        setValue(newValue);\n    };\n\n    function a11yProps(index: number) {\n        return {\n            id: `vertical-tab-${index}`,\n            'aria-controls': `vertical-tabpanel-${index}`,\n        };\n    }\n\n\n\n    // data load\n    useEffect(() => {\n\n\n        // dispatch(getAllUsers());\n        const contractAllUsers = [];\n\n        if (currentUser?.contracts?.length === 0 || currentUser?.contracts?.length == null) return;\n\n        for (let i = 0; i < currentUser?.contracts?.length; i++) {\n            const contract = currentUser?.contracts[i];\n            const contractsUsers = allUsers.find(user => user.uid === contract);\n            contractAllUsers.push(contractsUsers);\n        }\n        dispatch(myConvertations(contractAllUsers));\n\n    }, [loginUser]);\n\n\n    // load joind groups\n    useEffect(() => {\n        const createdDate: any = { createdAt: user?.metadata?.createdAt }\n        const userData: object = { photoURL: user.photoURL, displayName: user.displayName, uid: user.uid, createdAt: createdDate?.createdAt, email: user.email, phone: null, adress: null, contracts: [], groups: [], profession: null };\n        dispatch(currentLoginUser(userData));\n        dispatch(gellAllGroups());\n\n        if (!currentUser?.groups) return;\n\n        for (let groupID of currentUser?.groups) {\n            const matchGroup = allGroups?.find(group => group.groupId === groupID);\n            groups.push(matchGroup);\n        };\n\n\n\n        dispatch(getJoinedGroups(groups));\n    }, [allGroups]);\n\n\n    // load user\n    useEffect(() => {\n        axios.get(`http://localhost:8080/users/singleuser/${userId}`)\n            .then(res => {\n                setUser(res.data);\n                setLoading(false);\n            });\n\n    }, [profileUpdateings, updateUserInfo]);\n\n\n\n\n\n    //image uploading\n    useEffect(() => {\n        const imgFile = watch('picFile');\n        if (!imgFile?.length) return;\n        setImgLoading(true);\n        let body = new FormData();\n        body.set('key', '752d2bbd9a2e4d6a5910df9c191e1643')\n        body.append('image', imgFile[0])\n        axios({\n            method: 'post',\n            url: 'https://api.imgbb.com/1/upload',\n            data: body\n        }).then(res => {\n            setPhotoUrl(res.data.data.url);\n            setImgLoading(false);\n            // updatePhotoAndName(loginUser.displayName, res.data.data.url);\n        });\n    }, [watch('picFile')]);\n\n\n    // .. update photo \n    const handleUpdateProfile = async () => {\n\n        if (photoUrl === null || photoUrl === '') return;\n        if (!matchUser.uid) return;\n\n        setProfileUpdateing(true);\n\n        await axios.put(`http://localhost:8080/users/updateprofile/${matchUser.uid}`, { photoURL: photoUrl })\n            .then(() => {\n                updatePhotoAndName(loginUser.displayName, photoUrl);\n                setProfileUpdateing(false);\n            })\n    };\n\n\n    // stylesheet\n\n    const tabStyle = {\n        borderBottom: '1px solid #4E426D',\n        fontWeight: 500,\n        color: \"black\"\n    };\n\n    const textStyle = {\n        textAlign: 'center',\n        fontSize: 18,\n        letterSpacing: 1,\n        mt: 1,\n        borderBottom: '3px solid #4E426D',\n        pb: 1\n    };\n\n    const updateButton = {\n        background: '#463A63',\n        color: '#fff',\n        '&:hover': {\n            background: '#463A63',\n        },\n        mt: -3,\n        ml: 7\n    };\n\n    const uploadButton = {\n        background: '#463A63',\n        color: '#fff',\n        '&:hover': {\n            background: '#463A63',\n        },\n        width: 100,\n        height: 100,\n        mb: 2\n    };\n\n    const button = {\n        borderColor: \"whitesmoke\",\n        display: 'block',\n        color: \"whitesmoke\",\n        '&:hover': {\n            borderColor: \"whitesmoke\",\n        },\n    };\n\n\n    return (\n\n        <Box id=\"setting_page\">\n\n\n            {\n                loading ?\n\n                    <Typography\n                        variant='h6'\n                        sx={{\n                            p: 3,\n                            color: \"whitesmoke\"\n                        }}>\n                        Loading...\n                    </Typography>\n\n                    :\n\n                    <Container sx={{ pt: 15, color: \"#fff\" }}>\n\n                        <Grid container>\n\n\n                            <Grid item xs={12} md={4} lg={3} xl={2.5} sm={4} sx={{ boxShadow: 3, background: \"#5C4F81\" }}>\n\n                                <span style={{\n                                    display: 'grid',\n                                    justifyContent: 'center'\n                                }}>\n                                    <Avatar\n                                        src={matchUser?.photoURL}\n                                        alt={matchUser?.displayName}\n                                        sx={{\n                                            width: 90,\n                                            height: 90,\n                                            mt: 2,\n                                        }}\n                                    />\n\n                                    <IconButton\n                                        sx={updateButton}\n                                        onClick={handleOpenModal}\n                                        component=\"span\">\n                                        <PhotoCamera sx={{ fontSize: 15 }} />\n                                    </IconButton>\n\n                                </span>\n\n                                <Typography variant='h6' sx={textStyle}>\n                                    {matchUser?.displayName}\n                                </Typography>\n\n                                <Tabs\n                                    orientation=\"vertical\"\n                                    variant=\"scrollable\"\n                                    value={value}\n                                    onChange={handleChange}\n                                    aria-label=\"Vertical tabs example\"\n                                    sx={{ mt: 1 }}\n                                >\n                                    <Tab sx={tabStyle} label=\"Contract Info\" {...a11yProps(0)} />\n                                    <Tab sx={tabStyle} label=\"My Contracts\" {...a11yProps(1)} />\n                                    <Tab sx={tabStyle} label=\"joined groups\" {...a11yProps(2)} />\n                                    <Tab sx={tabStyle} label=\"Account Setting\" {...a11yProps(3)} />\n\n                                    {\n                                        updateUserInfo &&\n                                        <Typography variant=\"body2\" sx={{ m: 1 }}>Loading...</Typography>\n                                    }\n\n                                </Tabs>\n\n                            </Grid>\n\n                            <Grid item xs={12} sm={8} md={8} xl={6} sx={{ boxShadow: 3, background: \"#5C4F81\" }}>\n\n                                <TabPanel value={value} index={0}>\n                                    <ContractInfo\n                                        user={matchUser}\n                                    />\n                                </TabPanel>\n                                <TabPanel value={value} index={1}>\n                                    <MyContacts />\n                                </TabPanel>\n                                <TabPanel value={value} index={2}>\n                                    <JoinedGroups />\n                                </TabPanel>\n                                <TabPanel value={value} index={3}>\n                                    Item Four\n                                </TabPanel>\n\n\n                            </Grid>\n\n                        </Grid>\n\n\n                    </Container>\n\n            }\n\n            <Modal\n                open={openModal}\n                // onClose={handleCloseModal}\n                aria-labelledby=\"modal-modal-title\"\n                aria-describedby=\"modal-modal-description\"\n            >\n                <Box sx={style}>\n\n                    <Box sx={{ display: 'flex', justifyContent: 'center' }}>\n\n                        {\n                            photoUrl === '' && !imgLoading &&\n                            <label htmlFor=\"icon-button-file\">\n                                <input\n                                    style={{ display: \"none\" }}\n                                    {...register(\"picFile\")}\n                                    accept=\"image/*\"\n                                    type=\"file\"\n                                    id=\"icon-button-file\"\n                                />\n                                <IconButton\n                                    sx={uploadButton}\n                                    color=\"primary\"\n                                    aria-label=\"upload picture\"\n                                    component=\"span\">\n                                    <PhotoCamera sx={{ fontSize: 25 }} />\n                                </IconButton>\n                            </label>\n                        }\n\n                    </Box>\n\n                    <Box sx={{ display: 'flex', justifyContent: 'center' }}>\n                        {\n                            imgLoading && photoUrl === '' &&\n                            <Skeleton\n                                sx={{ mb: 2 }}\n                                variant=\"circular\"\n                                width={110}\n                                height={110}\n                            />\n                        }\n                    </Box>\n\n                    <Box sx={{ display: 'flex', justifyContent: 'center' }}>\n                        {\n                            photoUrl !== '' &&\n                            <Avatar\n                                sx={{ width: 110, height: 110, mb: 2 }}\n                                src={photoUrl}\n                                alt=\"yourImage\"\n                            />\n\n                        }\n                    </Box>\n\n                    <Box id=\"updateButton_container\">\n\n                        {\n                            profileUpdateings ?\n                                <Button\n                                    disabled\n                                    variant='outlined'\n                                    sx={button}\n                                >\n                                    Loading...\n                                </Button>\n                                :\n                                <Button\n                                    onClick={handleUpdateProfile}\n                                    variant='outlined'\n                                    sx={button}\n                                >\n                                    UPDATE\n                                </Button>\n\n                        }\n\n                        <Button\n                            onClick={() => {\n                                setPhotoUrl('');\n                                setProfileUpdateing(false);\n                                setImgLoading(false);\n                            }}\n                            disabled={profileUpdateings ? true : false}\n                            variant='outlined'\n                            sx={button}\n                        >\n                            CANCEL\n                        </Button>\n\n                        <Button\n                            onClick={handleCloseModal}\n                            sx={button}\n                            variant='outlined'\n                        >\n                            CLOSE\n                        </Button>\n\n                    </Box>\n\n\n                </Box>\n            </Modal>\n\n        </Box>\n    )\n}","import { Box, Typography } from '@mui/material'\nimport React, { useRef } from 'react'\nimport { useFirebase } from '../hooks/useFirebase';\n\n\nexport const ForgetPass = () => {\n\n    const emailRef = useRef<any>(null);\n    const { reseatPassword, processing } = useFirebase();\n\n    const sendResetPassEmail = (e: any) => {\n        e.preventDefault();\n\n        reseatPassword(emailRef.current.value);\n    };\n\n    return (\n\n        <>\n\n            <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\n\n                <Box sx={{ width: { md: 300 }, boxShadow: 2 }}>\n\n                    <form className='resetpass_field' onSubmit={sendResetPassEmail}>\n\n                        <Typography sx={{ mb: 1, color: 'whitesmoke' }} variant='body2'>\n                            Note:- Please give this email which you used on login and now you dunno this password. Otherwise passworld will be not change.\n                        </Typography>\n\n                        <input\n                            placeholder='Enter email *'\n                            ref={emailRef}\n                            required\n                            type=\"email\"\n                        />\n\n                        {\n                            processing ?\n                                <button disabled>Loading...</button>\n                                :\n                                <button type='submit'>  SEND</button>\n                        }\n                    </form>\n\n                </Box>\n\n            </Box>\n\n        </>\n\n    )\n}","import React, { useEffect } from 'react';\nimport Home from './Pages/Home/Home';\nimport Login from './Pages/Login/Login';\nimport { Routes, Route } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from './components/Redux/hooks';\nimport { gellAllGroups, getAllUsers } from './components/Redux/counterSlice';\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute';\nimport UserSetting from './Pages/UserSetting/UserSetting';\nimport { ForgetPass } from './components/ForgetPass/ForgetPass';\n\n\nconst App = () => {\n\n  const { loginUser } = useAppSelector(state => state?.data);\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(gellAllGroups());\n    dispatch(getAllUsers());\n  }, [loginUser]);\n  // http://localhost:8080\n\n  return (\n\n    <>\n\n      <Routes>\n\n        <Route path=\"/\" element={<PrivateRoute>\n          <Home />\n        </PrivateRoute>} />\n\n        <Route path=\"/login\" element={<Login />}\n        />\n\n        <Route path=\"/reseatpass\" element={<ForgetPass />}\n        />\n\n        <Route path=\"/setting/:userId\" element={<UserSetting />}\n        />\n\n      </Routes>\n      {/* <Login /> */}\n\n    </>\n  );\n}\n\nexport default App;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport counterReducer from './counterSlice';\nexport const store = configureStore({\n  reducer: {\n    data: counterReducer,\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport { store } from './components/Redux/store';\nimport { BrowserRouter } from \"react-router-dom\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>,\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}